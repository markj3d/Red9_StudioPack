<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Red9_AnimationUtils &mdash; Red9 3.0 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Red9_Audio" href="Red9_Audio.html" />
    <link rel="prev" title="Welcome to Red9 Pipeline Documentation" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Red9<img src="../_static/Red9_ProPack_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Red9_AnimationUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Audio.html">Red9_Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Core.html">Red9_CoreUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_General.html">Red9_General</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Meta.html">Red9_Meta</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_PoseSaver.html">Red9_PoseSaver</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Setup.html">Red9_Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Tools.html">Red9_Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_anim_map.html">Pro_Pack : anim_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_animation.html">Pro_Pack : animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_audio.html">Pro_Pack : audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_export.html">Pro_Pack : exporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_general.html">Pro_Pack : general</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_importexport.html">Pro_Pack : importexport</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_metadata_pro.html">Pro_Pack : metadata_pro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_optimiser.html">Pro_Pack : optimiser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_project.html">Pro_Pack : project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_r9data.html">Pro_Pack : r9Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_rigutils.html">Pro_Pack : rigutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_skining.html">Pro_Pack : skining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_skinning.html">Pro_Pack : skinning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/Red9_Pro_uibase.html">Pro_Pack : uibase</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/tools/Red9_Pro_anim_binder.html">Pro_Pack : tools : anim_binder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/tools/Red9_Pro_anim_tools.html">Pro_Pack : tools : anim_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/tools/Red9_Pro_health_manager.html">Pro_Pack : tools : health_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/tools/Red9_Pro_metahuman_tools.html">Pro_Pack : tools : metahuman_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/tools/Red9_Pro_project_manager.html">Pro_Pack : tools : project_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/tools/Red9_Pro_rig_manager.html">Pro_Pack : tools : rig_manager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../red9pro_templates/puppet/Red9_Pro_ikfk_match.html">Pro_Pack : puppet : ikfk_match</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Red9</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Red9_AnimationUtils</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/red9core_templates/Red9_AnimationUtils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <a class="reference external image-reference" href="http://red9consultancy.com/propack"><img alt="red9core_templates\../../_images/Red9_ProPack_strap_pro.png" src="red9core_templates\../../_images/Red9_ProPack_strap_pro.png" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="red9-animationutils">
<h1>Red9_AnimationUtils<a class="headerlink" href="#red9-animationutils" title="Permalink to this headline">¶</a></h1>
<p>Red9_AnimationUtils deals with all the key, attribute and time management
within Red9. Anything from copying keys between processed hierarchies
to Mirroring animation data.</p>
<span class="target" id="module-Red9.core.Red9_AnimationUtils"></span><p>Code examples:</p>
<blockquote>
<div><p><strong>ProcessNodes</strong></p>
<blockquote>
<div>All of the functions which have the ProcessNodes call share the same
underlying functionality as described below. This is designed to process the
given input nodes in a consistent manor across all the functions.
Params: ‘nodes’ and ‘filterSettings’ are treated as special and build up a
MatchedNode object that contains a tuple of matching pairs based on the given settings.</div></blockquote>
<p><strong>AnimFunctions example:</strong></p>
<blockquote>
<div><p>The main AnimFunctions class is designed to run with an r9Core.FilterNode
object that is responsible for how we process hierarchies. If one isn’t passed
as an arg then the code simply processes the ‘nodes’ args in zipped pairs.
See the documentation on the r9Core.MatchedNodeInputs for more detail.</p>
<p>All the AnimFunctions such as copyKeys, copyAttrs etc use the same base setup</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">Red9_CoreUtils</span> <span class="k">as</span> <span class="nn">r9Core</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">maya.cmds</span> <span class="k">as</span> <span class="nn">cmds</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#===========================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># When Processing hierarchies:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#===========================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The Filter_Settings object required for hierarchy processing is now bound to</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the class directly so you no longer need to create a filterSettigns object directly!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Lets set the filter to process nodes with a given attr &#39;myControl&#39; who&#39;s type is &#39;nurbscurve&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">AnimFunctions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">nodeTypes</span> <span class="o">=</span><span class="s1">&#39;nurbsCurve&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">searchAttrs</span> <span class="o">=</span> <span class="s1">&#39;myControl&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">printSettings</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now run any of the AnimFunctions and pass in nodes which with the filter active</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># as above would be the 2 root nodes of the hierarchies to filter</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">copyAttributes</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">snapTransform</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">time</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">timeLineRangeGet</span><span class="p">())</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#==============================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># When processing simple objects:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#==============================</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># If you simply ignore the filterSettings you can just process given nodes directly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the nodes are zipped into selected pairs obj[0]&gt;obj[1], obj[2]&gt;obj[3] etc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anim</span> <span class="o">=</span> <span class="n">r9Anim</span><span class="o">.</span><span class="n">AnimFunctions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anim</span><span class="o">.</span><span class="n">snapTransform</span><span class="p">(</span><span class="n">nodes</span><span class="o">=</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">time</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">timeLineRangeGet</span><span class="p">())</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p class="rubric">Core Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getChannelBoxSelection" title="Red9.core.Red9_AnimationUtils.getChannelBoxSelection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getChannelBoxSelection</span></code></a>([longNames])</td>
<td>return a list of attributes selected in the ChannelBox</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getChannelBoxAttrs" title="Red9.core.Red9_AnimationUtils.getChannelBoxAttrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getChannelBoxAttrs</span></code></a>([node,&nbsp;asDict,&nbsp;…])</td>
<td>return the status of all attrs on the given node, either as a flat list or a dict.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getNodeAttrStatus" title="Red9.core.Red9_AnimationUtils.getNodeAttrStatus"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getNodeAttrStatus</span></code></a>([node,&nbsp;asDict,&nbsp;incLocked])</td>
<td>stub function/ wrapper of getChannelBoxAttrs as the name is a little misleading and not really what the function is doing in hindsight.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getSettableChannels" title="Red9.core.Red9_AnimationUtils.getSettableChannels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getSettableChannels</span></code></a>([node,&nbsp;incStatics,&nbsp;…])</td>
<td>return a list of settable attributes on a given node.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes" title="Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getAnimLayersFromGivenNodes</span></code></a>(nodes)</td>
<td>return all animLayers associated with the given nodes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.nodesDriven" title="Red9.core.Red9_AnimationUtils.nodesDriven"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nodesDriven</span></code></a>(nodes[,&nbsp;allowReferenced,&nbsp;…])</td>
<td>return a list of those nodes that are actively constrained or connected to a pairBlend currently used to pre-validate nodes in the mirror class prior to running the actual mirror call</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.timeLineRangeGet" title="Red9.core.Red9_AnimationUtils.timeLineRangeGet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timeLineRangeGet</span></code></a>([always])</td>
<td>Return the current PlaybackTimeline OR if a range is selected in the TimeLine, (Highlighted in Red) return that instead.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.timeLineRangeProcess" title="Red9.core.Red9_AnimationUtils.timeLineRangeProcess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timeLineRangeProcess</span></code></a>(start,&nbsp;end[,&nbsp;step,&nbsp;…])</td>
<td>Simple wrapper function to take a given framerange and return a list[] containing the actual keys required for processing.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.animRangeFromNodes" title="Red9.core.Red9_AnimationUtils.animRangeFromNodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">animRangeFromNodes</span></code></a>(nodes[,&nbsp;setTimeline,&nbsp;…])</td>
<td>return the extent of the animation range for the given objects :param nodes: nodes to examine for animation data :param setTimeLine: whether we should set the playback timeline to the extent of the found anim data :param decimals: int -1 default, this is the number of decimal places in the return, -1 = no clamp :param transforms_only: if True we only test translate (animCurveTL) and rotate (animCurveTA) data, added for skeleton fbx baked tests :param skip_static: if True we ignore static curves and return [], else we return     the key bounds for the static keys, ignoring the keyValues :param bounds_only: if True we only return the key bounds, first and last key times,     else we look at the changing values to find the actual animated bounds via keyValue changes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.mergeAnimLayers" title="Red9.core.Red9_AnimationUtils.mergeAnimLayers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mergeAnimLayers</span></code></a>(nodes[,&nbsp;deleteBaked])</td>
<td>from the given nodes find, merge and remove any animLayers found</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.eulerSelected" title="Red9.core.Red9_AnimationUtils.eulerSelected"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eulerSelected</span></code></a>()</td>
<td>cheap trick! for selected objects run a Euler Filter and then delete Static curves</td>
</tr>
</tbody>
</table>
<p class="rubric">Core Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.AnimationUI" title="Red9.core.Red9_AnimationUtils.AnimationUI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnimationUI</span></code></a>([dockUI])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.AnimFunctions" title="Red9.core.Red9_AnimationUtils.AnimFunctions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnimFunctions</span></code></a>([filterSettings])</td>
<td>Most of the main Animation Functions take a settings object which is responsible for hierarchy processing.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys" title="Red9.core.Red9_AnimationUtils.RandomizeKeys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizeKeys</span></code></a>()</td>
<td>This is a simple implementation of a Key Randomizer, designed to add noise to animations.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.FilterCurves" title="Red9.core.Red9_AnimationUtils.FilterCurves"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FilterCurves</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy" title="Red9.core.Red9_AnimationUtils.MirrorHierarchy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MirrorHierarchy</span></code></a>([nodes,&nbsp;filterSettings,&nbsp;…])</td>
<td>This class is designed to mirror pose and animation data on any given hierarchy.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.MirrorSetup" title="Red9.core.Red9_AnimationUtils.MirrorSetup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MirrorSetup</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.AnimationLayerContext" title="Red9.core.Red9_AnimationUtils.AnimationLayerContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnimationLayerContext</span></code></a>(srcNodes[,&nbsp;…])</td>
<td>Context Manager for merging animLayers down and restoring the data as is afterwards</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.core.Red9_AnimationUtils.CameraTracker" title="Red9.core.Red9_AnimationUtils.CameraTracker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CameraTracker</span></code></a>([fixed])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.logging_is_debug">
<code class="descname">logging_is_debug</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.logging_is_debug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="Red9.core.Red9_AnimationUtils.RED_ANIMATION_UI_OPENCALLBACKS">
<code class="descname">RED_ANIMATION_UI_OPENCALLBACKS</code><em class="property"> = [&lt;bound method Project.set_animtoolkit_UI of &lt;r9project.Project object&gt;&gt;]</em><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RED_ANIMATION_UI_OPENCALLBACKS" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback globals so you can fire in commands prior to the UI opening,
we use this internally to fire an asset sync call on our project pose library
and to setup some additional paths.</p>
<dl class="docutils">
<dt>def myProjectCallback(cls)</dt>
<dd>cls.poseHandlerPaths=[‘MyProjects/resources/poseHandlers’]
cls.posePathProject =’My_projects/global/project/pose/lib’</dd>
</dl>
<p>r9Anim.RED_ANIMATION_UI_OPENCALLBACKS.append(myProjectCallback)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the function calls bound to the callback are passed the current instance of the animUI class
as an arg so you can modify as you need. Also when the PoseUI RMB popup menu is built, IF paths in the list
cls.poseHandlerPaths are valid, then we bind into that popup all valid poseHandler.py files
found the given path. This allow you to add custom handler types and expose them through the UI directly,
they will show up in the RMB popup as such: Fingers_poseHandler.py will show as ‘Add Subfolder : FINGERS’</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.checkRunTimeCmds">
<code class="descname">checkRunTimeCmds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.checkRunTimeCmds" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the RedRuntime Command plugin is loaded.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getChannelBoxSelection">
<code class="descname">getChannelBoxSelection</code><span class="sig-paren">(</span><em>longNames=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getChannelBoxSelection" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of attributes selected in the ChannelBox</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>longNames</strong> – return the longNames of the attrs selected, else we default to Maya’s short attr names</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getNodeAttrStatus">
<code class="descname">getNodeAttrStatus</code><span class="sig-paren">(</span><em>node=None</em>, <em>asDict=True</em>, <em>incLocked=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getNodeAttrStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>stub function/ wrapper of getChannelBoxAttrs as the name is a
little misleading and not really what the function is doing in hindsight.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getChannelBoxAttrs">
<code class="descname">getChannelBoxAttrs</code><span class="sig-paren">(</span><em>node=None</em>, <em>asDict=True</em>, <em>incLocked=True</em>, <em>skipcompound=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getChannelBoxAttrs" title="Permalink to this definition">¶</a></dt>
<dd><p>return the status of all attrs on the given node, either as a flat list or
a dict. As dict it contains all data which controls the lock, keyable, hidden states etc</p>
<p>statusDict={‘keyable’:attrs, ‘nonKeyable’:attrs, ‘locked’:attrs}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node</strong> – given node.</li>
<li><strong>asDict</strong> – True returns a dict with keys ‘keyable’,’locked’,’nonKeyable’ of attrs
False returns a list (non ordered) of all attr states.</li>
<li><strong>incLocked</strong> – True by default - whether to include locked channels in the return (only valid if not asDict)</li>
<li><strong>skipcompound</strong> – if True we remove the compound parent attrs from any return (double3 or float3 at the moment
this prevents unlocked componuds like “rotate”, “translate”, “scale” from getting into the return</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getSettableChannels">
<code class="descname">getSettableChannels</code><span class="sig-paren">(</span><em>node=None</em>, <em>incStatics=True</em>, <em>skipcompound=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getSettableChannels" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of settable attributes on a given node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node</strong> – node to inspect.</li>
<li><strong>incStatics</strong> – whether to include non-keyable static channels (On by default).</li>
<li><strong>skipcompound</strong> – if True we remove the compound parent attrs from any return (double3 or float3 at the moment
this prevents unlocked componuds like “rotate”, “translate”, “scale” from getting into the return</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>FIXME: BUG some Compound attrs such as constraints return invalid data for some of the
base functions using this as they can’t be simply set. Do we strip them here?
ie: pointConstraint.target.targetWeight</p>
<p># TODO: need to check the blendshape channels are settable also!</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.nodesDriven">
<code class="descname">nodesDriven</code><span class="sig-paren">(</span><em>nodes</em>, <em>allowReferenced=False</em>, <em>skipLocked=False</em>, <em>nodes_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.nodesDriven" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of those nodes that are actively constrained or connected to a pairBlend
currently used to pre-validate nodes in the mirror class prior to running the actual mirror call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>allowReferenced</strong> – if True we allow all constraints to be returned, if False any constraints
that are referenced are skipped. This by-passes internal rig constraints and only returns
constraints made in the main scene.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Parm skipLocked:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">if True we ignore the relevant channels that are constrained if the attrs themselves aren’t keyable</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getKeyedAttrs">
<code class="descname">getKeyedAttrs</code><span class="sig-paren">(</span><em>nodes</em>, <em>attrs=[]</em>, <em>returnkeyed=True</em>, <em>asMap=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getKeyedAttrs" title="Permalink to this definition">¶</a></dt>
<dd><p>from a list of nodes return either all keyed or unkeyed attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – the list of nodes were going to test</li>
<li><strong>attrs</strong> – if given we only check against those given attrs</li>
<li><strong>returnKeyed</strong> – True by default, return all keyed attrs</li>
<li><strong>asMap</strong> – if true we return (attr, curve) rather than just the list of attrs, only valid if returnKeyed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes">
<code class="descname">getAnimLayersFromGivenNodes</code><span class="sig-paren">(</span><em>nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getAnimLayersFromGivenNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>return all animLayers associated with the given nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.getAnimLayerMembers">
<code class="descname">getAnimLayerMembers</code><span class="sig-paren">(</span><em>animLayers=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.getAnimLayerMembers" title="Permalink to this definition">¶</a></dt>
<dd><p>simple function to get the current object menmbers of the given animLayers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>animLayers</strong> – animLayers to inspect, if not given we inspect all animLayers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animLayersConfirmCheck">
<code class="descname">animLayersConfirmCheck</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>deleteMerged=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animLayersConfirmCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>return all animLayers associated with the given nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – nodes to check membership of animLayers. If not pass the check will be at sceneLevel</li>
<li><strong>deleteMerged</strong> – modifies the warning message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.mergeAnimLayers">
<code class="descname">mergeAnimLayers</code><span class="sig-paren">(</span><em>nodes</em>, <em>deleteBaked=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.mergeAnimLayers" title="Permalink to this definition">¶</a></dt>
<dd><p>from the given nodes find, merge and remove any animLayers found</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.pointOnPolyCmd">
<code class="descname">pointOnPolyCmd</code><span class="sig-paren">(</span><em>nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.pointOnPolyCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a BUG FIX for Maya’s command wrapping of the pointOnPolyCon
which doesn’t support namespaces. This deals with that limitation</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.eulerSelected">
<code class="descname">eulerSelected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.eulerSelected" title="Permalink to this definition">¶</a></dt>
<dd><p>cheap trick! for selected objects run a Euler Filter and then delete Static curves</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animCurveDrawStyle">
<code class="descname">animCurveDrawStyle</code><span class="sig-paren">(</span><em>style='simple'</em>, <em>forceBuffer=True</em>, <em>showBufferCurves=False</em>, <em>displayTangents=False</em>, <em>displayActiveKeyTangents=True</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animCurveDrawStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the state of the graphEditor curve display, used in the Filter and Randomizer to
simplify the display and the curve whilst processing. This allows you to also pass in
the state directly, used by the UI close event to return the editor to the last cached state</p>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animCurve_get_bounds">
<code class="descname">animCurve_get_bounds</code><span class="sig-paren">(</span><em>curve</em>, <em>bounds_only=False</em>, <em>skip_static=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animCurve_get_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>from a given anim curve find it’s upper and lower bounds. By default we examine the keyValues
for change and return the upper and lower bounds for change.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>curve</strong> – the anim curve to inspect</li>
<li><strong>bounds_only</strong> – if True we only return the key bounds, first and last key times,
else we look at the changing values to find the bounds</li>
<li><strong>skip_static</strong> – if True we ignore static curves and return [], else we return
the key bounds for the static keys, ignoring the keyValues</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.animRangeFromNodes">
<code class="descname">animRangeFromNodes</code><span class="sig-paren">(</span><em>nodes</em>, <em>setTimeline=True</em>, <em>decimals=-1</em>, <em>transforms_only=False</em>, <em>skip_static=True</em>, <em>bounds_only=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.animRangeFromNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>return the extent of the animation range for the given objects
:param nodes: nodes to examine for animation data
:param setTimeLine: whether we should set the playback timeline to the extent of the found anim data
:param decimals: int -1 default, this is the number of decimal places in the return, -1 = no clamp
:param transforms_only: if True we only test translate (animCurveTL) and rotate (animCurveTA) data, added for skeleton fbx baked tests
:param skip_static: if True we ignore static curves and return [], else we return</p>
<blockquote>
<div>the key bounds for the static keys, ignoring the keyValues</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bounds_only</strong> – if True we only return the key bounds, first and last key times,
else we look at the changing values to find the actual animated bounds via keyValue changes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.timeLineRangeGet">
<code class="descname">timeLineRangeGet</code><span class="sig-paren">(</span><em>always=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.timeLineRangeGet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current PlaybackTimeline OR if a range is selected in the
TimeLine, (Highlighted in Red) return that instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>always</strong> – always return a timeline range, if none selected return the playbackRange.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(start,end)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.timeLineRangeProcess">
<code class="descname">timeLineRangeProcess</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>step=1</em>, <em>incEnds=True</em>, <em>nodes=[]</em>, <em>process_animlayers=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.timeLineRangeProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple wrapper function to take a given framerange and return
a list[] containing the actual keys required for processing.
This manages whether the step is negative, if so it reverses the
times. When nodes are not given this is basically just a wrapper to the
python range function, if nodes are given then we inspect and return the
current keys between the start and end given, ignoring step except to reverse the data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> – start frame</li>
<li><strong>end</strong> – end frame</li>
<li><strong>step</strong> – step between frame</li>
<li><strong>inEnds</strong> – when processing without nodes do we include the end frame in the return or exclude it</li>
<li><strong>nodes</strong> – inspect the nodes given for keyframes and use that data for the times returned</li>
<li><strong>process_animlayers</strong> – when True (default) we process all keys on all layers for the given nodes</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this is the base function that the ProPack smartBake functions use to extract the key time data</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.selectKeysByRange">
<code class="descname">selectKeysByRange</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>animLen=False</em>, <em>bounds_only=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.selectKeysByRange" title="Permalink to this definition">¶</a></dt>
<dd><p>select the keys from the selected or given nodes within the
current timeRange or selectedTimerange</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – the nodes to inspect, else we use the selected transform nodes</li>
<li><strong>animLen</strong> – use the curent timeLine range only</li>
<li><strong>bounds_only</strong> – if True we only use the key bounds, first and last key times,
else we look at the changing values to find the actual animated bounds via keyValue changes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.setTimeRangeToo">
<code class="descname">setTimeRangeToo</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>setall=True</em>, <em>bounds_only=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.setTimeRangeToo" title="Permalink to this definition">¶</a></dt>
<dd><p>set the playback timerange to be the animation range of the selected nodes.
AnimRange is determined to be the extent of all found animation for a given node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – the nodes to inspect, else we use the selected transform nodes</li>
<li><strong>setall</strong> – also set the outer ‘-ast’ / ‘-aet’ timeranges</li>
<li><strong>bounds_only</strong> – if True we only use the key bounds, first and last key times,
else we look at the changing values to find the actual animated bounds via keyValue changes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.core.Red9_AnimationUtils.snap">
<code class="descname">snap</code><span class="sig-paren">(</span><em>source</em>, <em>destination</em>, <em>snapTranslates=True</em>, <em>snapRotates=True</em>, <em>snapScales=False</em>, <em>*args</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.snap" title="Permalink to this definition">¶</a></dt>
<dd><p>simple wrapper over the AnimFunctions snap call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> – the object we’ll be aligning too</li>
<li><strong>destination</strong> – the object we’ll be snapping</li>
<li><strong>snapTranslates</strong> – snap the translate data</li>
<li><strong>snapRotates</strong> – snap the rotate data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.AnimationLayerContext">
<em class="property">class </em><code class="descname">AnimationLayerContext</code><span class="sig-paren">(</span><em>srcNodes</em>, <em>mergeLayers=True</em>, <em>restoreOnExit=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationLayerContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context Manager for merging animLayers down and restoring
the data as is afterwards</p>
</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI">
<em class="property">class </em><code class="descname">AnimationUI</code><span class="sig-paren">(</span><em>dockUI=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.show">
<em class="property">classmethod </em><code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.show" title="Permalink to this definition">¶</a></dt>
<dd><p>main UI call. manages 2017 workspaces here..</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.setPoseSelected">
<code class="descname">setPoseSelected</code><span class="sig-paren">(</span><em>val=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.setPoseSelected" title="Permalink to this definition">¶</a></dt>
<dd><p>set the PoseSelected cache for the UI calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSelected">
<code class="descname">getPoseSelected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSelected" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.buildPoseList">
<code class="descname">buildPoseList</code><span class="sig-paren">(</span><em>sortBy='name'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.buildPoseList" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of poses from the PoseRootDir, this allows us to
filter much faster as it stops all the os calls, cached list instead</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.buildFilteredPoseList">
<code class="descname">buildFilteredPoseList</code><span class="sig-paren">(</span><em>searchFilter</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.buildFilteredPoseList" title="Permalink to this definition">¶</a></dt>
<dd><p>build the list of poses to show in the poseUI
TODO: hook up an order based by date in here as an option to tie into the UI</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSubFolder">
<code class="descname">getPoseSubFolder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPoseSubFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the given pose subFolder if set</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPoseDir">
<code class="descname">getPoseDir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPoseDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the poseDir including subPath</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getPosePath">
<code class="descname">getPosePath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getPosePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full posePath for loading</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.getIconPath">
<code class="descname">getIconPath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.getIconPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full posePath for loading</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenus_PoseHandlers">
<code class="descname">addPopupMenus_PoseHandlers</code><span class="sig-paren">(</span><em>parentPopup</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenus_PoseHandlers" title="Permalink to this definition">¶</a></dt>
<dd><p>for a given list of folders containing poseHandler files add these as 
default ‘make subfolder’ types to the main poseUI popup menu</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenusFromFolderConfig">
<code class="descname">addPopupMenusFromFolderConfig</code><span class="sig-paren">(</span><em>parentPopup</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimationUI.addPopupMenusFromFolderConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>if the poseFolder has a poseHandler.py file see if it has the ‘posePopupAdditions’ func
and if so, use that to extend the standard menu’s</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions">
<em class="property">class </em><code class="descname">AnimFunctions</code><span class="sig-paren">(</span><em>filterSettings=None</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Most of the main Animation Functions take a settings object which is
responsible for hierarchy processing. See r9Core.FilterNode and
r9Core.Filter_Settings for more details. These are then passed to
the r9Core.MatchedNodeInputs class which is designed specifically
to process two hierarchies and filter them for matching pairs.
What this means is that all the anim functions deal with hierarchies
in the same manor making it very simple to extend.</p>
<dl class="docutils">
<dt>Generic filters passed into r9Core.MatchedNodeInputs class:</dt>
<dd><ul class="first last simple">
<li>setting.nodeTypes: list[] - search for child nodes of type (wraps cmds.listRelatives types=)</li>
<li>setting.searchAttrs: list[] - search for child nodes with Attrs of name</li>
<li>setting.searchPattern: list[] - search for nodes with a given nodeName searchPattern</li>
<li>setting.hierarchy: bool = lsHierarchy code to return all children from the given nodes</li>
<li>setting.metaRig: bool = use the MetaRig wires to build the initial Object list up</li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">with all the search and hierarchy settings OFF the code performs
a dumb copy, no matching and no Hierarchy filtering, copies using
selected pairs obj[0]&gt;obj[1], obj[2]&gt;obj[3] etc</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">filterSettings is also now bound to the class and if no filterSettings object
is passed into any of the calls we use the classes instance instead. Makes coding
a lot more simple as you can take an instance of AnimFunctions and just fill it
directly before running the functions.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># new functionality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">=</span><span class="n">AnimFunctions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">nodeTypes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nurbsCurve&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">searchPattern</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ctrl&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">copyKeys</span><span class="p">([</span><span class="n">srcRootNode</span><span class="p">,</span> <span class="n">destRootNode</span><span class="p">])</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># old functionality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">=</span><span class="n">r9Core</span><span class="o">.</span><span class="n">FilterSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">nodeTypes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;nurbsCurve&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">settings</span><span class="o">.</span><span class="n">searchPattern</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ctrl&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">animFunc</span><span class="o">.</span><span class="n">copyKeys</span><span class="p">([</span><span class="n">srcRootNode</span><span class="p">,</span> <span class="n">destRootNode</span><span class="p">],</span> <span class="n">filterSettigns</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys_ToMultiHierarchy">
<code class="descname">copyKeys_ToMultiHierarchy</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>time=()</em>, <em>pasteKey='replace'</em>, <em>attributes=None</em>, <em>filterSettings=None</em>, <em>matchMethod=None</em>, <em>mergeLayers=True</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys_ToMultiHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>This isn’t the best way by far to do this, but as a quick wrapper
it works well enough. Really we need to process the nodes more intelligently
prior to sending data to the copyKeys calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys">
<code class="descname">copyKeys</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>time=()</em>, <em>pasteKey='replace'</em>, <em>attributes=None</em>, <em>filterSettings=None</em>, <em>toMany=False</em>, <em>matchMethod=None</em>, <em>mergeLayers=False</em>, <em>timeOffset=0</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy Keys is a Hi-Level wrapper function to copy animation data between
filtered nodes, either in hierarchies or just selected pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> – Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class’
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>pasteKey</strong> – Uses the standard pasteKey option methods - merge,replace,
insert etc. This is fed to the internal pasteKey method. Default=replace</li>
<li><strong>time</strong> – Copy over a given timerange - time=(start,end). Default is
to use no timeRange. If time is passed in via the timeLineRange() function
then it will consider the current timeLine PlaybackRange, OR if you have a
highlighted range of time selected(in red) it’ll use this instead.</li>
<li><strong>attributes</strong> – Only copy the given attributes[]</li>
<li><strong>matchMethod</strong> – arg passed to the match code, sets matchMethod used to match 2 node names, see r9Core.matchNodeLists for details</li>
<li><strong>mergeLayers</strong> – this pre-processes animLayers so that we have a single, temporary merged
animLayer to extract a compiled version of the animData from. This gets deleted afterwards.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: this needs to support ‘skipAttrs’ param like the copyAttrs does - needed for the snapTransforms calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttrs_ToMultiHierarchy">
<code class="descname">copyAttrs_ToMultiHierarchy</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>attributes=None</em>, <em>skipAttrs=None</em>, <em>filterSettings=None</em>, <em>matchMethod=None</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttrs_ToMultiHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>This isn’t the best way by far to do this, but as a quick wrapper
it works well enough. Really we need to process the nodes more intelligently
prior to sending data to the copyKeys calls</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttributes">
<code class="descname">copyAttributes</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>attributes=None</em>, <em>skipAttrs=None</em>, <em>filterSettings=None</em>, <em>toMany=False</em>, <em>matchMethod=None</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.copyAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy Attributes is a Hi-Level wrapper function to copy Attribute data between
filtered nodes, either in hierarchies or just selected pairs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> – Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class’
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>attributes</strong> – Only copy the given attributes[]</li>
<li><strong>skipAttrs</strong> – Copy all Settable Attributes OTHER than the given, not
used if an attributes list is passed</li>
<li><strong>matchMethod</strong> – arg passed to the match code, sets matchMethod used to match 2 node names, see r9Core.matchNodeLists for details</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.snapTransform">
<code class="descname">snapTransform</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>time=()</em>, <em>step=1</em>, <em>preCopyKeys=1</em>, <em>preCopyAttrs=1</em>, <em>filterSettings=None</em>, <em>iterations=1</em>, <em>matchMethod=None</em>, <em>prioritySnapOnly=False</em>, <em>snapRotates=True</em>, <em>snapTranslates=True</em>, <em>snapScales=False</em>, <em>additionalCalls=[]</em>, <em>cutkeys=False</em>, <em>smartbake=False</em>, <em>smartBakeRef=[]</em>, <em>additionalCalls_pre=[]</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.snapTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Snap objects over a timeRange. This wraps the default hierarchy filters
so it’s capable of multiple hierarchy filtering and matching methods.
The resulting node lists are snapped over time and keyed.
:requires: SnapRuntime plugin to be available</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> – Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class’
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>time</strong> – Copy over a given timerange - time=(start,end). Default is
to use no timeRange. If time is passed in via the timeLineRange() function
then it will consider the current timeLine PlaybackRange, OR if you have a
highlighted range of time selected(in red) it’ll use this instead.</li>
<li><strong>step</strong> – Time Step between processing when using kws[‘time’] range
this accepts negative values to run the time backwards if required</li>
<li><strong>preCopyKeys</strong> – Run a CopyKeys pass prior to snap - this means that
all channels that are keyed have their data taken across</li>
<li><strong>preCopyAttrs</strong> – Run a CopyAttrs pass prior to snap - this means that
all channel Values on all nodes will have their data taken across</li>
<li><strong>iterations</strong> – Number of times to process the frame.</li>
<li><strong>matchMethod</strong> – arg passed to the match code, sets matchMethod used to match 2 node names, see r9Core.matchNodeLists for details</li>
<li><strong>prioritySnapOnly</strong> – if True ONLY snap the nodes in the filterPriority list within the filterSettings object = Super speed up!!</li>
<li><strong>snapTranslates</strong> – only snap the translate data</li>
<li><strong>snapRotates</strong> – only snap the rotate data</li>
<li><strong>snapScales</strong> – testing, match the scales but only in local space</li>
<li><strong>additionalCalls</strong> – [func, func…] additional functions to run AFTER the snap call during process… allowing you
to add in specific matching calls to a SnapTransforms run whilst having the time increment correctly managed for you</li>
<li><strong>additionalCalls_pre</strong> – [func, func…] additional functions to run BEFORE the snap call during process… allowing you
to add in specific matching calls to a SnapTransforms run whilst having the time increment correctly managed for you</li>
<li><strong>cutkeys</strong> – when passing time do we clear current keys first, needed ideally if we’re running with a step greater than 1</li>
<li><strong>smartbake</strong> – if True we ignore the step and find all current keyTimes on the nodes about to be processed, these key times
are then respected during the process</li>
<li><strong>smartBakeRef</strong> – smartbake=True if given, used as reference nodes to extract keytimes from, else we look at all nodes about to be
processed which isn’t always what we want. If we still find no keytimes we revert to base range times with step given</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">you can also pass the CopyKey kws in to the preCopy call, see copyKeys above</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">by default when using the preCopyKeys flag we run a temp merge of any animLayers
and copy that merged animLayer data for consistency. The layers are restored afterwards</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.snapValidateResults">
<code class="descname">snapValidateResults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.snapValidateResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Run through the stored snap values to see if, once everything is processed,
all the nodes still match. ie, you snap the Shoulders and strore the results,
then at the end of the process you find that the Shoulders aren’t in the same
position due to a driver controller shifting it because of hierarchy issues.
TO IMPLEMENT</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.snap">
<em class="property">static </em><code class="descname">snap</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>snapTranslates=True</em>, <em>snapRotates=True</em>, <em>snapScales=False</em>, <em>*args</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.snap" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes 2 given transform nodes and snaps them together. It takes into
account offsets in the pivots of the objects. Uses the API MFnTransform nodes
to calculate the data via a command plugin. This is a stripped down version
of the snapTransforms cmd</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – [src,dest]</li>
<li><strong>snapTranslates</strong> – snap the translate data</li>
<li><strong>snapRotates</strong> – snap the rotate data</li>
<li><strong>snapScales</strong> – snap the scale, this is LOCAL transforms only</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.stabilizer">
<em class="property">static </em><code class="descname">stabilizer</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>time=()</em>, <em>step=1</em>, <em>trans=True</em>, <em>rots=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.stabilizer" title="Permalink to this definition">¶</a></dt>
<dd><p>This is designed with 2 specific functionalities:
If you have a single node selected it will stabilize it regardless
of it’s inputs or parent hierarchy animations
If you pass in 2 objects then it will Track B to A (same order as constraints)
This is primarily designed to aid in MoCap cleanup and character interactions.
This now also allows for Component based track inputs, ie, track this
nodes to this poly’s normal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – either single (Stabilize) or twin to track</li>
<li><strong>time</strong> – [start,end] for a frameRange</li>
<li><strong>step</strong> – int value for frame advance between process runs</li>
<li><strong>trans</strong> – track translates</li>
<li><strong>rots</strong> – track rotates</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.bindNodes">
<code class="descname">bindNodes</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>attributes=None</em>, <em>attributes_all_settable=False</em>, <em>filterSettings=None</em>, <em>bindMethod='connect'</em>, <em>matchMethod=None</em>, <em>manage_scales=False</em>, <em>unlock=False</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.bindNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>bindNodes is a Hi-Level wrapper function to bind animation data between
filtered nodes, either in hierarchies or just selected pairs. This has been uplifted to sync
to the ProPack bind call for clarity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – List of Maya nodes to process. This combines the filterSettings
object and the MatchedNodeInputs.processMatchedPairs() call,
making it capable of powerful hierarchy filtering and node matching methods.</li>
<li><strong>filterSettings</strong> – Passed into the FilterNode code to setup the hierarchy filters
see docs on the FilterNode_Settings class’
Note that this is also now bound to the class instance and if not passed in
we use this classes instance of filterSettings cls.settings</li>
<li><strong>attributes</strong> – Only process the given attributes[]</li>
<li><strong>attributes_all_settable</strong> – if True and bindMethod=’connect’ we process ALL settable channels on each node</li>
<li><strong>bindMethod</strong> – method of binding the data</li>
<li><strong>matchMethod</strong> – arg passed to the match code, sets matchMethod used to match 2 node names, see r9Core.matchNodeLists for details</li>
<li><strong>manage_scales</strong> – bool, do we also look at binding jnt scales where applicable, this only runs
if the source jnt has incoming scale connections which would then be propagated via a scaleConstrain</li>
<li><strong>unlock</strong> – if True force unlock the required transform attrs on the destination skeleton first</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: expose this to the UI’s!!!!</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAnimChannels">
<em class="property">static </em><code class="descname">inverseAnimChannels</code><span class="sig-paren">(</span><em>node</em>, <em>channels=[]</em>, <em>time=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAnimChannels" title="Permalink to this definition">¶</a></dt>
<dd><p>really basic method used in the Mirror calls</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAttributes">
<em class="property">static </em><code class="descname">inverseAttributes</code><span class="sig-paren">(</span><em>node</em>, <em>channels</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>really basic method used in the Mirror calls</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAnimCurves">
<em class="property">static </em><code class="descname">inverseAnimCurves</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>curves=[]</em>, <em>time=()</em>, <em>timePivot=None</em>, <em>mode='object'</em>, <em>mRigs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.AnimFunctions.inverseAnimCurves" title="Permalink to this definition">¶</a></dt>
<dd><p>really basic method to inverse anim curves for a given time, or for the current playback timerange</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – nodes to find animCurves on IF curves were not specified directly</li>
<li><strong>curves</strong> – specific animCurves to act on, else we inspect the nodes given</li>
<li><strong>time</strong> – timerange to inverse, if not given we use the default timeLineRangeGet function as per
all other Red9 timerange enabled calls</li>
<li><strong>timePivot</strong> – if given this is the pivot for the scale inverse, else we automatically work
this out from the time ranges given</li>
<li><strong>mode</strong> – ‘object’ or ‘keys’ are we acting at the object level or at the selected keys level in the graphEditor?
‘object’ is default</li>
<li><strong>mRigs</strong> – if we’re in object mode then we modify the nodes to be all child members of linked mRig systems</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.curveModifierContext">
<em class="property">class </em><code class="descname">curveModifierContext</code><span class="sig-paren">(</span><em>initialUndo=False</em>, <em>undoFuncCache=[]</em>, <em>undoDepth=1</em>, <em>processBlanks=False</em>, <em>reselectKeys=True</em>, <em>manageCache=True</em>, <em>undoChunkName='curveModifierContext'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.curveModifierContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple Context Manager to allow modifications to animCurves in the
graphEditor interactively by simply managing the undo stack and making
sure that selections are maintained
NOTE that this is optimized to run with a floatSlider and used in both interactive
Randomizer and FilterCurves</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>initialUndo</strong> – on first process whether undo on entry to the context manager</li>
<li><strong>undoFuncCache</strong> – functions to catch in the undo stack</li>
<li><strong>undoDepth</strong> – depth of the undo stack to go to</li>
<li><strong>processBlanks</strong> – if undoFuncCache is empty but the last undoName is blank then we consider
this a match and run the undo. Why, this is because it’s bloody hard to get QT to register
calls to the undo stack and that was blocking some of the ProPack functionality</li>
<li><strong>reselectKeys</strong> – if keys were selected on entry we reselect them based on their original timerange</li>
<li><strong>manageCache</strong> – Maya 2019 and above, manage the cache mode, stopping the fill mode from being ‘syncAsync’,
this means that the cache is only filled on exit, if at all</li>
<li><strong>undoChunkName</strong> – name of the undoChunk created by this, default = ‘curveModifierContext’</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.curveModifierContext.undoCall">
<code class="descname">undoCall</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.curveModifierContext.undoCall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys">
<em class="property">class </em><code class="descname">RandomizeKeys</code><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a simple implementation of a Key Randomizer, designed to add
noise to animations.</p>
<p>TODO: add in methods to generate secades type of flicking randomization, current
implementation is too regular.</p>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.noiseFunc">
<code class="descname">noiseFunc</code><span class="sig-paren">(</span><em>initialValue</em>, <em>randomRange</em>, <em>damp</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.noiseFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>really simple noise func, maybe I’ll flesh this out at somepoint</p>
</dd></dl>

<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.showOptions">
<em class="property">classmethod </em><code class="descname">showOptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.showOptions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.interactiveWrapper">
<code class="descname">interactiveWrapper</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.interactiveWrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.addNoise">
<code class="descname">addNoise</code><span class="sig-paren">(</span><em>curves, time=(), step=1, currentKeys=True, randomRange=[-1, 1], damp=1, percent=False, keepKeys=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.addNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple noise function designed to add noise to keyframed animation data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>curves</strong> – Maya animCurves to process</li>
<li><strong>time</strong> – timeRange to process</li>
<li><strong>step</strong> – frame step used in the processor</li>
<li><strong>currentKeys</strong> – ONLY randomize keys that already exists</li>
<li><strong>randomRange</strong> – range [upper, lower] bounds passed to teh randomizer</li>
<li><strong>damp</strong> – damping passed into the randomizer</li>
<li><strong>keepkeys</strong> – if True maintain current keys</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.RandomizeKeys.curveMenuFunc">
<code class="descname">curveMenuFunc</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.RandomizeKeys.curveMenuFunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves">
<em class="property">class </em><code class="descname">FilterCurves</code><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.show">
<em class="property">classmethod </em><code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.simplifyWrapper">
<code class="descname">simplifyWrapper</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.simplifyWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>straight simplify of curves using a managed cmds.simplfy call</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.resampleCurves">
<code class="descname">resampleCurves</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.resampleCurves" title="Permalink to this definition">¶</a></dt>
<dd><p>straight resample of curves using a managed cmds.bakeResults call
:param args[0]: this is the step used in the resample</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.FilterCurves.snapAnimCurvesToFrms">
<code class="descname">snapAnimCurvesToFrms</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.FilterCurves.snapAnimCurvesToFrms" title="Permalink to this definition">¶</a></dt>
<dd><p>called after the interaction filters, snap</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy">
<em class="property">class </em><code class="descname">MirrorHierarchy</code><span class="sig-paren">(</span><em>nodes=[]</em>, <em>filterSettings=None</em>, <em>suppress=False</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is designed to mirror pose and animation data on any given
hierarchy. The hierarchy is filtered like everything else in the Red9
pack, using a filterSettings node thats passed into the __init__</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">=</span><span class="n">MirrorHierarchy</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set the settings object to run metaData</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">metaRig</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">printSettings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">mirrorData</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;Anim&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># useful code snippets:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># offset all selected nodes mirrorID by 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">=</span><span class="n">r9Anim</span><span class="o">.</span><span class="n">MirrorHierarchy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mirror</span><span class="o">.</span><span class="n">incrementIDs</span><span class="p">(</span><span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">offset</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># set all the mirror axis on the selected</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">cmds</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="n">sl</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">mirror</span><span class="o">.</span><span class="n">setMirrorIDs</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;translateX,rotateY,rotateZ&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># copy mirrorId&#39;s from one node to another</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">srcNodes</span><span class="p">,</span> <span class="n">destNodes</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">mirror</span><span class="o">.</span><span class="n">copyMirrorIDs</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">dest</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>TODO: allow the mirror block to include an offset so that if you need to inverse AND offset</dt>
<dd>by 180 to get left and right working you can still do so.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – initial nodes to process</li>
<li><strong>filterSettings</strong> – filterSettings object to process hierarchies</li>
<li><strong>suppress</strong> – suppress the new warnings and validation call, default=False</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.setMirrorIDs">
<code class="descname">setMirrorIDs</code><span class="sig-paren">(</span><em>node</em>, <em>side=None</em>, <em>slot=None</em>, <em>axis=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.setMirrorIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Add/Set the default attrs required by the MirrorSystems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>node</strong> – nodes to take the attrs</li>
<li><strong>side</strong> – valid values are ‘Centre’,’Left’, ‘Right’ or 0, 1, 2 or ‘C’, ‘L’, ‘R’</li>
<li><strong>slot</strong> – bool Mainly used to pair up left and right paired controllers</li>
<li><strong>axis</strong> – eg ‘translateX,rotateY,rotateZ’ simple comma separated string
If this is set then it overrides the default mirror axis.
These are the channels who have their attribute/animCurve values inversed
during mirror. NOT we allow axis to have a null string ‘None’ so it can be
passed in blank when needed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">slot index can’t be ZERO</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.deleteMirrorIDs">
<code class="descname">deleteMirrorIDs</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.deleteMirrorIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the given node from the MirrorSystems</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.copyMirrorIDs">
<code class="descname">copyMirrorIDs</code><span class="sig-paren">(</span><em>src</em>, <em>dest</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.copyMirrorIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy mirrorIDs between nodes, note the nodes list passed in is zipped into pairs
This will copy all the mirrorData from src to dest, useful for copying data between
systems when the MirrorMap fails due to naming.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.incrementIDs">
<code class="descname">incrementIDs</code><span class="sig-paren">(</span><em>nodes</em>, <em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.incrementIDs" title="Permalink to this definition">¶</a></dt>
<dd><p>offset the mirrorIndex on selected nodes by a given offset</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getNodes">
<code class="descname">getNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of nodes to start processing</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this has been modified to respect mRigs first to save you having to select the
top level of hierarchy in the mRig itself. Instead we walk the children as expected</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSide">
<code class="descname">getMirrorSide</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSide" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an enum Attr to denote the Side of the controller in the Mirror system</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorIndex">
<code class="descname">getMirrorIndex</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>get the mirrorIndex, these slots are used to denote matching pairs
such that Left and Right Controllers to switch will have the same index</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorCompiledID">
<code class="descname">getMirrorCompiledID</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorCompiledID" title="Permalink to this definition">¶</a></dt>
<dd><p>This return the mirror data in a compiled manor for the poseSaver
such that mirror data  for a node : Centre, ID 10 == Centre_10</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorAxis">
<code class="descname">getMirrorAxis</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorAxis" title="Permalink to this definition">¶</a></dt>
<dd><p>get any custom attributes set at node level to inverse, if none found
return the default axis setup in the __init__</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> – node return the axis from</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if mirrorAxis attr has been added to the node but is empty then
no axis will be inversed at all. If the attr doesn’t exist then the
default inverse axis will be used</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSets">
<code class="descname">getMirrorSets</code><span class="sig-paren">(</span><em>nodes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.getMirrorSets" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the given nodes into the mirrorDict
such that {‘Centre’:{id:node,},’Left’:{id:node,},’Right’:{id:node,}}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nodes</strong> – only process a given list of nodes, else run the filterSettings
call from the initial nodes passed to the class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.printMirrorDict">
<code class="descname">printMirrorDict</code><span class="sig-paren">(</span><em>short=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.printMirrorDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty print the Mirror Dict</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.switchPairData">
<code class="descname">switchPairData</code><span class="sig-paren">(</span><em>objA</em>, <em>objB</em>, <em>mode='Anim'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.switchPairData" title="Permalink to this definition">¶</a></dt>
<dd><p>take the left and right matched pairs and exchange the animData
or poseData across between them</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>objA</strong> – </li>
<li><strong>objB</strong> – </li>
<li><strong>mode</strong> – ‘Anim’ or ‘Pose’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.makeSymmetrical">
<code class="descname">makeSymmetrical</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>mode='Anim'</em>, <em>primeAxis='Left'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.makeSymmetrical" title="Permalink to this definition">¶</a></dt>
<dd><p>similar to the mirrorData except this is designed to take the data from an object in
one side of the mirrorDict and pass that data to the opposite matching node, thus
making the anim/pose symmetrical according to the mirror setups.
Really useful for facial setups!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – optional specific listy of nodes to process, else we run the filterSetting code
on the initial nodes past to the class</li>
<li><strong>mode</strong> – ‘Anim’ ot ‘Pose’ process as a single pose or an animation</li>
<li><strong>primeAxis</strong> – ‘Left’ or ‘Right’ whether to take the data from the left or right side of the setup</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.mirrorData">
<code class="descname">mirrorData</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>mode='Anim'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.mirrorData" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the FilterSettings obj find all nodes in the return that have
the mirrorSide attr, then process the lists into Side and Index slots
before Mirroring the animation data. Swapping left for right and
inversing the required animCurves</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> – optional specific list of nodes to process, else we run the filterSetting code
on the initial nodes past to the class</li>
<li><strong>mode</strong> – ‘Anim’ or ‘Pose’ process as a single pose or an animation</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: Issue where if nodeA on Left has NO key data at all, and nodeB on right
does, then nodeB will be left incorrect. We need to clean the data if there
are no keys.</p>
<p>TODO: Issue if left and right nodes have setLimits and we’re doing purely a pose based mirror
then we can get into a situation where the mirror fails. This is because we first do a copyAttr
between the nodes, then we inverse the channels required. If the node on the side being inversed has limits 
that don’t allow that initial copy then the mirror will result in zero</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.saveMirrorSetups">
<code class="descname">saveMirrorSetups</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.saveMirrorSetups" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the mirrorSetups out to file</p>
</dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorHierarchy.loadMirrorSetups">
<code class="descname">loadMirrorSetups</code><span class="sig-paren">(</span><em>filepath=None</em>, <em>nodes=None</em>, <em>clearCurrent=True</em>, <em>matchMethod='base'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorHierarchy.loadMirrorSetups" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a Mirror Map to the nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> – filepath to a mirrorMap, if none given then we assume that the internal mirrorDict is already setup</li>
<li><strong>nodes</strong> – nodes to load, or the root of a system to filter</li>
<li><strong>clearCurrent</strong> – if True then the load will first remove all current mirrormarkers</li>
<li><strong>matchMethod</strong> – arg passed to the match code, sets matchMethod used to match the data, see r9Core.matchNodeLists for details</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.MirrorSetup">
<em class="property">class </em><code class="descname">MirrorSetup</code><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.MirrorSetup.show">
<em class="property">classmethod </em><code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorSetup.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.MirrorSetup.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.MirrorSetup.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker">
<em class="property">class </em><code class="descname">CameraTracker</code><span class="sig-paren">(</span><em>fixed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker" title="Permalink to this definition">¶</a></dt>
<dd><dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker.cameraTrackView">
<em class="property">static </em><code class="descname">cameraTrackView</code><span class="sig-paren">(</span><em>start=None</em>, <em>end=None</em>, <em>step=None</em>, <em>fixed=True</em>, <em>keepOffset=False</em>, <em>cam=None</em>, <em>static=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker.cameraTrackView" title="Permalink to this definition">¶</a></dt>
<dd><p>CameraTracker is a simple wrap over the internal viewFit call but this manages the data
over time. Works by taking the current camera, in the current 3dView, and fitting it to
frame the currently selected objects per frame, or rather per frameStep.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> – start frame</li>
<li><strong>end</strong> – end frame</li>
<li><strong>step</strong> – frame step to increment between fit</li>
<li><strong>fixed</strong> – switch between tracking or panning framing fit</li>
<li><strong>keepOffset</strong> – keep the current camera offset rather than doing a full viewFit</li>
<li><strong>cam</strong> – if given use this camera else we use the current modelEditors camera</li>
<li><strong>static</strong> – if true we DON’T track, we just do a single frame - hook for the ProPack Playblast management</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>TODO: add option for cloning the camera rather than using the current directly</p>
</dd></dl>

<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker.show">
<em class="property">classmethod </em><code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.CameraTracker.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.CameraTracker.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData">
<em class="property">class </em><code class="descname">ReconnectAnimData</code><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a method for debugging and re-connecting animation curves when theyve become
disconnected from a scene. This happens occasionally when using referencing where the
refEdits pointing to the connect calls get broken..</p>
<dl class="classmethod">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.show">
<em class="property">classmethod </em><code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectReferencedAnimData">
<em class="property">static </em><code class="descname">reConnectReferencedAnimData</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectReferencedAnimData" title="Permalink to this definition">¶</a></dt>
<dd><p>As per my blog posts on Lost Animaton’s see here for details:
<a class="reference external" href="http://markj3d.blogspot.co.uk/2011/07/lost-animation-when-loading-referenced.html">http://markj3d.blogspot.co.uk/2011/07/lost-animation-when-loading-referenced.html</a></p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectAnimDataBlind">
<em class="property">static </em><code class="descname">reConnectAnimDataBlind</code><span class="sig-paren">(</span><em>stripNamespace=True</em>, <em>stripLayerNaming=False</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.core.Red9_AnimationUtils.ReconnectAnimData.reConnectAnimDataBlind" title="Permalink to this definition">¶</a></dt>
<dd><p>Blind reconnect based on names. As per my blog posts on Lost Animaton’s see here for details:
<a class="reference external" href="http://markj3d.blogspot.co.uk/2012/09/lost-animation-part2.html">http://markj3d.blogspot.co.uk/2012/09/lost-animation-part2.html</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stripNamespace</strong> – Change this to False if the curves are not in the rootNamespace but
in the sameNamespace as the controllers.</li>
<li><strong>stripLayerNaming</strong> – allows for the additional ‘Merged_Layer_inputB’ naming conventions</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to Red9 Pipeline Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Red9_Audio.html" class="btn btn-neutral float-right" title="Red9_Audio" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Red9 Consultancy Limited.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>