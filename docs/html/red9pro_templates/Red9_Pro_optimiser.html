<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pro_Pack : optimiser &mdash; Red9 3.0 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pro_Pack : project" href="Red9_Pro_project.html" />
    <link rel="prev" title="Pro_Pack : metadata_pro" href="Red9_Pro_metadata_pro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Red9<img src="../_static/Red9_ProPack_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_AnimationUtils.html">Red9_AnimationUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Audio.html">Red9_Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Core.html">Red9_CoreUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_General.html">Red9_General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Meta.html">Red9_Meta</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_PoseSaver.html">Red9_PoseSaver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Setup.html">Red9_Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Tools.html">Red9_Tools</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_anim_map.html">Pro_Pack : anim_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_animation.html">Pro_Pack : animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_audio.html">Pro_Pack : audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_export.html">Pro_Pack : exporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_general.html">Pro_Pack : general</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_importexport.html">Pro_Pack : importexport</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_metadata_pro.html">Pro_Pack : metadata_pro</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pro_Pack : optimiser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_project.html">Pro_Pack : project</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_r9data.html">Pro_Pack : r9Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_rigutils.html">Pro_Pack : rigutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_skining.html">Pro_Pack : skining</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_skinning.html">Pro_Pack : skinning</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_uibase.html">Pro_Pack : uibase</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_anim_binder.html">Pro_Pack : tools : anim_binder</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_anim_tools.html">Pro_Pack : tools : anim_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_health_manager.html">Pro_Pack : tools : health_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_metahuman_tools.html">Pro_Pack : tools : metahuman_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_project_manager.html">Pro_Pack : tools : project_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_rig_manager.html">Pro_Pack : tools : rig_manager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="puppet/Red9_Pro_ikfk_match.html">Pro_Pack : puppet : ikfk_match</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Red9</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Pro_Pack : optimiser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/red9pro_templates/Red9_Pro_optimiser.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="pro-pack-optimiser">
<h1>Pro_Pack : optimiser<a class="headerlink" href="#pro-pack-optimiser" title="Permalink to this headline">¶</a></h1>
<p>ProPack optimiser module manages the health of assets and your
Maya scene via a complex Health object system. The HealthValidation class runs
tests that are bound to it, formatted such that each test returns a HealthTestObject.
These objects contain both the results of the test, what failed, what passed and
where ever possible they also have a fix method bound to them.</p>
<p>This is a crucial part of the ProPack systems for clients, dealing not just with
overall optimisation methods and cleanups, but also a complex health runner setup.</p>
<p>The key to all of the testing systems are HealthTestObjects formatted in a specific manner
and passed into the HealthValidation class to run and collate.</p>
<p>Each test makes and returns an instance of a HealthTestObject and is self contained, they can be
run standalone without the HealthValidation class to test specific things, or grouped into a bigger
set of tests, for example to health check a rig prior to releasing to an animator.</p>
<blockquote>
<div><blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># import statement for the module via the r9pro decompiler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">Red9.pro_pack</span> <span class="k">import</span> <span class="n">r9pro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9popt</span> <span class="o">=</span> <span class="n">r9pro</span><span class="o">.</span><span class="n">r9import</span><span class="p">(</span><span class="s1">&#39;r9popt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">simple_example_test</span><span class="p">(</span><span class="n">expected</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">    This is an example of how to write correctly formatted Health tests</span>
<span class="gp">... </span><span class="sd">    for the Validation systems based on simply matching a predictable input result.</span>
<span class="gp">... </span><span class="sd">    This is how all the Maya environment tests are built in the ProPack</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    In simple tests like this we can just compare the results with the expected data</span>
<span class="gp">... </span><span class="sd">    such that HealthObject.results_returned==HealthObject.results_expected</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">    :param expected: status of the test expected</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span>
<span class="gp">... </span>    <span class="c1"># we make a fresh instance of a HealthTestObject, this is crucial</span>
<span class="gp">... </span>    <span class="n">HealthObject</span> <span class="o">=</span> <span class="n">r9popt</span><span class="o">.</span><span class="n">HealthTestObject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;simple_example_test&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="c1"># set the internal results_expected to that arg passed in</span>
<span class="gp">... </span>    <span class="n">HealthObject</span><span class="o">.</span><span class="n">results_expected</span> <span class="o">=</span> <span class="n">expected</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="c1"># bind a fix method if you have one written</span>
<span class="gp">... </span>    <span class="c1"># HealthObject.fix_method=maya_timeUnits_fix</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="c1"># run the actual test and push it&#39;s result to the HealthObject</span>
<span class="gp">... </span>    <span class="n">HealthObject</span><span class="o">.</span><span class="n">results_returned</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">about</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="c1"># do the simple compare by calling the set_byCompare func</span>
<span class="gp">... </span>    <span class="c1"># this sets the status internally and sets the test as having been run</span>
<span class="gp">... </span>   <span class="n">HealthObject</span><span class="o">.</span><span class="n">set_byCompare</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>   <span class="c1"># we ALWAYS have to return the HealthObject</span>
<span class="gp">... </span>   <span class="k">return</span> <span class="n">HealthObject</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">custom_example_test</span><span class="p">(</span><span class="n">expected</span><span class="p">):</span>
<span class="gp">... </span>        <span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">        more complex test, most of the time we don&#39;t know what exactly</span>
<span class="gp">... </span><span class="sd">        is in the scene before we run the test so the above example is useless.</span>
<span class="gp">... </span><span class="sd">        In this example we&#39;re constructing the test and managing the results</span>
<span class="gp">... </span><span class="sd">        directly</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">        :param expected: a list of nodes we expect to be present</span>
<span class="gp">... </span><span class="sd">        &#39;&#39;&#39;</span>
<span class="gp">... </span>        <span class="c1"># as above, take an instance of the HealthObject and set the initial vars</span>
<span class="gp">... </span>        <span class="n">HealthObject</span><span class="o">=</span><span class="n">r9popt</span><span class="o">.</span><span class="n">HealthTestObject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;custom_example&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">HealthObject</span><span class="o">.</span><span class="n">results_expected</span><span class="o">=</span><span class="n">expected</span>
<span class="gp">...</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">expected</span><span class="p">:</span>
<span class="gp">... </span>            <span class="c1"># run our test</span>
<span class="gp">... </span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">cmds</span><span class="o">.</span><span class="n">objExists</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
<span class="gp">... </span>                <span class="c1"># test failed so we add the failed nodes to the results_failed list</span>
<span class="gp">... </span>                <span class="n">HealthObject</span><span class="o">.</span><span class="n">results_failed_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="gp">... </span>                <span class="c1"># we can also set the log info, displayed when we get the overall status</span>
<span class="gp">... </span>                <span class="n">HealthObject</span><span class="o">.</span><span class="n">log_message</span><span class="o">+=</span><span class="s1">&#39;failed node :  &quot;</span><span class="si">%s</span><span class="s1">&quot; : Missing in Scene&#39;</span> <span class="o">%</span> <span class="n">node</span>
<span class="gp">... </span>            <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>                <span class="c1"># test passed so add the passed nodes to the results</span>
<span class="gp">... </span>                <span class="n">HealthObject</span><span class="o">.</span><span class="n">results_passed_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="gp">... </span>        <span class="c1"># if we have failed nodes then the test failed and we need to set it&#39;s status as such</span>
<span class="gp">... </span>        <span class="c1"># by default the HealthObject is set as failed</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">HealthObject</span><span class="o">.</span><span class="n">results_failed_nodes</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">HealthObject</span><span class="o">.</span><span class="n">set_passed</span><span class="p">()</span>
<span class="gp">... </span>        <span class="c1"># return the HealthObject</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">HealthObject</span>
</pre></div>
</div>
<p>When we put this together with the HealthValidation system we get a very powerful way of checking data inside Maya.
In Pro for clients this is also bound to the fileOpen callback, allowing us to test the scene after load against a given project template.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Client_SceneOpen_HealthValidation</span><span class="p">(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">HealthValidation</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="c1"># Tests to run, note this is a list of tuples where the second</span>
<span class="gp">... </span>        <span class="c1"># arg is the expected result if specified</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">tests</span><span class="o">=</span><span class="p">[(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">maya_sceneUnits_test</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;expected&#39;</span><span class="p">:</span><span class="s1">&#39;centimeter&#39;</span><span class="p">}),</span> <span class="c1"># Maya environment units</span>
<span class="gp">... </span>                    <span class="p">(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">maya_timeUnits_test</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;expected&#39;</span><span class="p">:</span><span class="s1">&#39;ntsc&#39;</span><span class="p">}),</span>  <span class="c1"># Maya environment fps &#39;ntsc&#39; 30fps</span>
<span class="gp">... </span>                    <span class="p">(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">maya_upAxis_test</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;expected&#39;</span><span class="p">:</span><span class="s1">&#39;y&#39;</span><span class="p">})]</span>  <span class="c1"># Maya environment world axis Y-up</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">=</span><span class="n">Client_SceneOpen_HealthValidation</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">run_health</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">getStatus</span><span class="p">()</span>  <span class="c1"># pass or fail?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">test</span><span class="o">.</span><span class="n">prettyPrintStatus</span><span class="p">()</span>  <span class="c1"># note this is formatted as a string for output to file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">writeStatus</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>  <span class="c1"># output the test results to file</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># fix anything that failed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">run_fix_methods</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>You could of course just take an instance of the default HealthValidataion object and fill up
the internal tests list but it’s often easier to have a bespoke class to test a specific set of data</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">=</span><span class="n">r9popt</span><span class="o">.</span><span class="n">HealthValidation</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">tests</span><span class="o">=</span><span class="p">[(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">maya_sceneUnits_test</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;expected&#39;</span><span class="p">:</span><span class="s1">&#39;centimeter&#39;</span><span class="p">}),</span>
<span class="gp">... </span>                    <span class="p">(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">maya_timeUnits_test</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;expected&#39;</span><span class="p">:</span><span class="s1">&#39;ntsc&#39;</span><span class="p">}),</span>
<span class="gp">... </span>                    <span class="p">(</span><span class="n">r9popt</span><span class="o">.</span><span class="n">maya_upAxis_test</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;expected&#39;</span><span class="p">:</span><span class="s1">&#39;y&#39;</span><span class="p">})]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">run_health</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that the new Project management by default switches on an internal SceneOpen callback in Maya that triggers the
r9popt.SceneOpen_HealthValidation() to be run. This can be turned Off by unchecking the <strong>health_run_open_callback</strong> checkbox
in the ProjectManager &gt; Edit mode.</p>
<span class="target" id="module-Red9.pro_pack.core.optimiser"></span><p>Optmizer module for dealing with the health of a scene</p>
<p class="rubric">Main Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.OptimizerUI" title="Red9.pro_pack.core.optimiser.OptimizerUI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OptimizerUI</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.OptimizeScene" title="Red9.pro_pack.core.optimiser.OptimizeScene"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OptimizeScene</span></code></a>()</td>
<td>The OptimizeScene class is responsible for wind optimization of the current Maya Scene.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthTestObject" title="Red9.pro_pack.core.optimiser.HealthTestObject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HealthTestObject</span></code></a>(name)</td>
<td>HealthTestObject is a base class object that should be managed and returned by all of the Health Test functions.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HealthValidation</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>This is the main Health Test system for all of ProPack and Red9’s internal publisher system.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.SceneOpen_HealthValidation" title="Red9.pro_pack.core.optimiser.SceneOpen_HealthValidation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SceneOpen_HealthValidation</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>Health systems to validate the Scene status against the internal PROJECT_DATA object thats bound to the systems at boot.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.All_Available_Tests" title="Red9.pro_pack.core.optimiser.All_Available_Tests"><code class="xref py py-obj docutils literal notranslate"><span class="pre">All_Available_Tests</span></code></a>(*args,&nbsp;**kws)</td>
<td>Collection class - this will build up the internal tests to include ALL currently instanced and found test functions but at the same time will disable the main run buttons in the HealthManager as these are NOT designed to be run as a full test set, just a collection of individual tests</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.SRC_Export_HealthValidations" title="Red9.pro_pack.core.optimiser.SRC_Export_HealthValidations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SRC_Export_HealthValidations</span></code></a>([src_node])</td>
<td>RED9 PRODUCTION RIG ONLY :  Health systems to validate an SRC Prior to Exporting it in the RigManager</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.SKL_HealthValidations" title="Red9.pro_pack.core.optimiser.SKL_HealthValidations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SKL_HealthValidations</span></code></a>([rootJnt])</td>
<td>RED9 PRODUCTION RIG :  Health systems to validate a Skeleton Prior to Rig Build.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.BlendShapes_HealthValidation" title="Red9.pro_pack.core.optimiser.BlendShapes_HealthValidation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BlendShapes_HealthValidation</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>Base test to validate the health of all Blendshapes in the scene.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.SceneGeo_HealthValidation" title="Red9.pro_pack.core.optimiser.SceneGeo_HealthValidation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SceneGeo_HealthValidation</span></code></a>(*args,&nbsp;**kwargs)</td>
<td>Base test to validate the health of all geometry in the scene.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.optimiser.MRIG_External_HealthValidations" title="Red9.pro_pack.core.optimiser.MRIG_External_HealthValidations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MRIG_External_HealthValidations</span></code></a>([mRig])</td>
<td>Health systems to validate the status of a connected mRig</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.optimizer_ui">
<code class="descname">optimizer_ui</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.optimizer_ui" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.OptimizerUI">
<em class="property">class </em><code class="descname">OptimizerUI</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizerUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="Red9.pro_pack.core.optimiser.OptimizerUI.show">
<em class="property">classmethod </em><code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizerUI.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.OptimizerUI.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizerUI.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.OptimizeScene">
<em class="property">class </em><code class="descname">OptimizeScene</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizeScene" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The OptimizeScene class is responsible for wind optimization of the current
Maya Scene.</p>
<p>when initializing the class we expose a number of internal options to
allow you to tailor how the optimize_full system deals with your scene</p>
<p>by default we maintain the following node types when running this:</p>
<ul class="simple">
<li>shapeEditorManager</li>
<li>poseInterpolatorManager</li>
<li>sequenceManager</li>
<li>displayLayerManager</li>
<li>audio (nodeTypes)</li>
<li>controllers (nodeTypes)</li>
<li>r9MetaNodes</li>
<li>hiknodes</li>
<li>shaders</li>
<li>ngskin nodes</li>
</ul>
<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.OptimizeScene.optimize_base">
<code class="descname">optimize_base</code><span class="sig-paren">(</span><em>pre_post=True</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizeScene.optimize_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Base Maya Optimizer’s with a few extra cleanups thrown in for good measure</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.OptimizeScene.optimize_full">
<code class="descname">optimize_full</code><span class="sig-paren">(</span><em>runBase=True</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizeScene.optimize_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize by exporting all DagObjects to a temp file then
importing the data and running a base optimize on the remaining data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>runBase</strong> – do we run the base optimiser func first?</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>..note ::</dt>
<dd>any additional nodes you need to retain during the process, such as non-dag nodes
like Audio Nodes need to be handling either by adding a selection method and adding
that in the self.get_retained_funcs list, OR adding to the initial self.nodes_to_retain list</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.OptimizeScene.get_nodes_to_retain">
<code class="descname">get_nodes_to_retain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.OptimizeScene.get_nodes_to_retain" title="Permalink to this definition">¶</a></dt>
<dd><p>nodes to include in the rootNode list that gets exported during the
optimize_full function call. This is so that we can add in additional
non DAG nodes such as audio nodes into the temp export to ensure
everything we want to retain is kept.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.delete_format_output">
<code class="descname">delete_format_output</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.delete_format_output" title="Permalink to this definition">¶</a></dt>
<dd><p>simple decorator to format the return prints, a fix method
should return a list of nodes / data that it’s fixed and this decorator
prints that status out after the fix method has been run.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.get_heathtest_from_cls">
<code class="descname">get_heathtest_from_cls</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.get_heathtest_from_cls" title="Permalink to this definition">¶</a></dt>
<dd><p>get the tests bound to a HealthValidation Object</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.get_healthTests">
<code class="descname">get_healthTests</code><span class="sig-paren">(</span><em>inc_loose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.get_healthTests" title="Permalink to this definition">¶</a></dt>
<dd><p>get all tests that we deem to be valid HealthTests. We first find any subclasses of the base HealthValidation
class, then we use that to find all modules that may contain health tests. From that we inspect all methods in
the module, matching them for a ‘_test’ in the name and extracting all args and docstrs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inc_loose</strong> – do we also scan for any loose tests within found modules containing HealthValidation subclasses?
these tests may be within validation subclasses but we scan as loose to include all available tests. This is used
withing the ‘All_Available_Tests’ collection subclass mainly</td>
</tr>
<tr class="field-even field"><th class="field-name">Return dict:</th><td class="field-body">full data dump for later processing</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject">
<em class="property">class </em><code class="descname">HealthTestObject</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>HealthTestObject is a base class object that should be managed and
returned by all of the Health Test functions. It’s an encapsulated status
object for a particular test method, holding results from the test
and fix methods.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">=</span><span class="n">opt</span><span class="o">.</span><span class="n">maya_timeUnits_test</span><span class="p">(</span><span class="n">expected</span><span class="o">=</span><span class="s1">&#39;ntscf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">print_status</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="o">.</span><span class="n">run_fix_method</span><span class="p">()</span>
</pre></div>
</div>
<p>Internal Vars of note:</p>
<ul class="simple">
<li><strong>self.fix_method</strong> = None          : fix function for this test object</li>
<li><strong>self.results_failed_nodes</strong> = []  : nodes deemed to have failed the test, where appropriate</li>
<li><strong>self.results_passed_nodes</strong> = []  : nodes that passed the test</li>
<li><strong>self.results_returned</strong> = None    : results used to compare against if the results_expected var was given</li>
<li><strong>self.results_expected</strong> = None    : if specified this is the result expected from the test method.</li>
<li><strong>self.log_message</strong> = ‘’           : during the tests we generally fill this with useful info for the print feedbacks</li>
<li><strong>self.additional_pp_status_details</strong>  : (str) additional data that gets appended to the prettyPrintStatus() data         returned by the HealthValidation class. This is only meant to be a short note such as the timeUnit test which has the expected fps in this val</li>
</ul>
<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.run_fix_method">
<code class="descname">run_fix_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.run_fix_method" title="Permalink to this definition">¶</a></dt>
<dd><p>If this test object has already run and has a fix method bound,
and the test failed then run the fix method.</p>
</dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.has_run">
<code class="descname">has_run</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.has_run" title="Permalink to this definition">¶</a></dt>
<dd><p>has this HealthObject been run as part of a test</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.selectFailedNodes">
<code class="descname">selectFailedNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.selectFailedNodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.print_status">
<code class="descname">print_status</code><span class="sig-paren">(</span><em>detailed=True</em>, <em>indepth=True</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.print_status" title="Permalink to this definition">¶</a></dt>
<dd><p>print a status report for this HealthTestObject</p>
</dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.status">
<code class="descname">status</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.status" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper for the status of the object, if the test passed,
failed or threw a warning. This also compares any results_expected
with the data from the test so we can compare against an expected
set of data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Test.status=’PASSED’ if either the test.set_passed() has been run internally, or if
self.results_expected == self.results_returned. This allows for simple matching of default
data such as Maya environment calls etc. For more complex status checking I’d recommend
doing that inside your test function and setting the status there using the set_passed etc.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.set_byCompare">
<code class="descname">set_byCompare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.set_byCompare" title="Permalink to this definition">¶</a></dt>
<dd><p>automatically set the status based on comparing the
results_expected==results_returned
This is generally for simple test methods where you can guarantee
the results are consistent.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.set_by_failed">
<code class="descname">set_by_failed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.set_by_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>automatically set failed if there are failed results in the test object</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.set_failed">
<code class="descname">set_failed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.set_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>set test as failed, note this also sets the has_run flag to True</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.set_passed">
<code class="descname">set_passed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.set_passed" title="Permalink to this definition">¶</a></dt>
<dd><p>set test as passed, note this also sets the has_run flag to True</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.set_warning">
<code class="descname">set_warning</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.set_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>set test as passed, note this also sets the has_run flag to True</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.set_corrupt">
<code class="descname">set_corrupt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.set_corrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>set test as passed, note this also sets the has_run flag to True</p>
</dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.failed">
<code class="descname">failed</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.failed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.passed">
<code class="descname">passed</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.passed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.warning">
<code class="descname">warning</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthTestObject.corrupted">
<code class="descname">corrupted</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthTestObject.corrupted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation">
<em class="property">class </em><code class="descname">HealthValidation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the main Health Test system for all of ProPack and Red9’s internal
publisher system. The idea is that you bind individual test to the class
to run, each test returns a HealthTestObject which means we can easily
collate data and fix issues via the run_fix_methods</p>
<p>In Pro for clients this is also bound to the fileOpen callback, allowing us to test
the scene after load against a given project template.</p>
<p>See examples in the API docs above</p>
<p>key internal vars:</p>
<ul class="simple">
<li><strong>self.iscollection</strong> : False by default, this marks this set of tests as a collection, one not designed to be         run as an entire test, just a collection of individual tests</li>
<li><strong>self.customfuncs</strong>  : a separate binding of a given custom function, used internally to bind a specific set of         random modifications for individual client needs</li>
</ul>
<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.HealthResultObjects_ordered">
<code class="descname">HealthResultObjects_ordered</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.HealthResultObjects_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>ordered list of result objects</p>
</dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.status">
<code class="descname">status</code><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.bindTests">
<code class="descname">bindTests</code><span class="sig-paren">(</span><em>testdata=[]</em>, <em>filepath=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.bindTests" title="Permalink to this definition">¶</a></dt>
<dd><p>bind a custom set of tests from an external config list,
tests are specified as a list of tuples where the first value
is the function, the second is a list of kws to pass into the
function, usually expectedResult etc. If there are no kws
to pass just set that to None</p>
<ul class="simple">
<li>ie : [(func, <a href="#id1"><span class="problematic" id="id2">**</span></a>kws), (func, <a href="#id3"><span class="problematic" id="id4">**</span></a>kws), (func, None)]</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>testdata</strong> – [] list of tuples as above</li>
<li><strong>filepath</strong> – path to a json file with the tests setup and correctly formatted</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.loadTests">
<code class="descname">loadTests</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.loadTests" title="Permalink to this definition">¶</a></dt>
<dd><p>load in tests from a file for ease</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> – filepath to take the tests from . Not currently implemented</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.run_health">
<code class="descname">run_health</code><span class="sig-paren">(</span><em>verbose=True</em>, <em>detailed=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.run_health" title="Permalink to this definition">¶</a></dt>
<dd><p>run the given set of test objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>verbose</strong> – run the printouts or run it silently</li>
<li><strong>detailed</strong> – turn on all the detailed results feedback in the printouts</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.run_fix_methods">
<code class="descname">run_fix_methods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.run_fix_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>run all fix methods bound to those HealthTestObjects that failed</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.run_customFuncs">
<code class="descname">run_customFuncs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.run_customFuncs" title="Permalink to this definition">¶</a></dt>
<dd><p>run any custom functions bound to this test setup</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.getFailedTests">
<code class="descname">getFailedTests</code><span class="sig-paren">(</span><em>asDict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.getFailedTests" title="Permalink to this definition">¶</a></dt>
<dd><p>for each healthObject validate it’s status and return those HealthTestObjects
that failed and or threw a warning or error</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>asDict</strong> – either return a straight list of failed HeallthTestObjects
or a dict where the key is the test name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.getStatus">
<code class="descname">getStatus</code><span class="sig-paren">(</span><em>asDict=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.getStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>for each healthObject validate it’s status and return the overall result</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>asDict</strong> – If False (default) return the overall status of all the tests as a bool,
if True return a dict where the keys are the status and value is a list of tests matching that status</li>
<li><strong>verbose</strong> – if true print all the results out, else just return the status itself</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.prettyPrintStatus">
<code class="descname">prettyPrintStatus</code><span class="sig-paren">(</span><em>overview=True</em>, <em>detailed=False</em>, <em>passed=True</em>, <em>indepth=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.prettyPrintStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple formatter to make sense of the results in a manner that can be either printed to screen
or out to file. It’s worth testing the flags here as there is a LOT of formatting possible to
tweak the results into a format that contains just the base data, or all the comples fails etc</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>overview</strong> – just print / return the overview of each test status - no results data</li>
<li><strong>detailed</strong> – turn on the detailed results in the feedback data</li>
<li><strong>passed</strong> – include passed tests in the detailed data</li>
<li><strong>indepth</strong> – expand the detailed results to include all the health results data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.optimiser.HealthValidation.writeStatus">
<code class="descname">writeStatus</code><span class="sig-paren">(</span><em>filepath=None</em>, <em>indepth=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.HealthValidation.writeStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>write a detailed log out to a given filepath</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> – filepath for the log file</li>
<li><strong>indepth</strong> – expand the detailed results to include all the health results data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.SceneOpen_HealthValidation">
<em class="property">class </em><code class="descname">SceneOpen_HealthValidation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.SceneOpen_HealthValidation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Health systems to validate the Scene status against the internal PROJECT_DATA object
thats bound to the systems at boot. This is the .r9project file that controls the
Maya environment and many of the internal systems for clients</p>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.SRCHealthValidations">
<em class="property">class </em><code class="descname">SRCHealthValidations</code><span class="sig-paren">(</span><em>src_node=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.SRCHealthValidations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>RED9 PRODUCTION RIG ONLY : Health systems to validate an SRC Prior to saving it and then binding to a Rig</p>
<p>This is a base level test only, the actual SRC validation run by the internal publisher is WAY more aggresive!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src_node</strong> – a Meta SRC_Extension mNode</td>
</tr>
</tbody>
</table>
<p>checks for:</p>
<ul class="simple">
<li>invalid references</li>
<li>unused display layers</li>
<li>constraint interpTypes (expects 2 = average)</li>
<li>removes ALL namespaces</li>
<li>invalid MetaData</li>
<li>SRC rig controllers have keys</li>
<li>SRC skeleton hasKeys</li>
<li>SRC skeleton rotate tolerances</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.SRC_Export_HealthValidations">
<em class="property">class </em><code class="descname">SRC_Export_HealthValidations</code><span class="sig-paren">(</span><em>src_node=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.SRC_Export_HealthValidations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>RED9 PRODUCTION RIG ONLY : 
Health systems to validate an SRC Prior to Exporting it in the RigManager</p>
<p>This is a destructive set of tests when run with the fix method so make
sure to save the scene out prior to running this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src_node</strong> – a Meta SRC_Extension mNode, if passed in we use that, else we
find the first instance of a “Pro_MetaRig_SRC” mNode</td>
</tr>
</tbody>
</table>
<p>checks to ensure:</p>
<ul class="simple">
<li>no audio nodes</li>
<li>file is referenced</li>
<li>invalid references</li>
<li>unused display layers</li>
<li>removes ALL namespaces</li>
<li>invalid MetaData</li>
<li>SRC skeleton has no keys</li>
<li>SRC skeleton hierarchy has no Non-Joint nodes in it</li>
<li>SRC skeleton has no incoming connections to any attr</li>
<li>Export Skeleton is parented to world</li>
<li>meshes connected to renderMeshes and renderMeshes_head are parented under ‘<a href="#id5"><span class="problematic" id="id6">|</span></a>models’</li>
<li>blend target channels have no incoming connections</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.SKL_HealthValidations">
<em class="property">class </em><code class="descname">SKL_HealthValidations</code><span class="sig-paren">(</span><em>rootJnt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.SKL_HealthValidations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>RED9 PRODUCTION RIG : 
Health systems to validate a Skeleton Prior to Rig Build. Skeleton is found
using the get_root_jnt() func so is a wide call to find the most appropriate
skeleton to process, unless passed directly in of course</p>
<p>checks to ensure:</p>
<ul class="simple">
<li>no invalid references</li>
<li>removes ALL namespaces</li>
<li>no invalid MetaData</li>
<li>Skeleton has no keys</li>
<li>Skeleton hierarchy has no Non-Joint nodes in it</li>
<li>Skeleton has no incoming connections to any attr</li>
<li>Skeleton has all the draw options reset</li>
<li>Skeleton has invereScale wires correct</li>
<li>Skeleton is at zero rotate on all jnts</li>
<li>Skeleton is at BPose (internal BPose from Red9 Systems)</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.SceneStripper">
<em class="property">class </em><code class="descname">SceneStripper</code><span class="sig-paren">(</span><em>src_node=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.SceneStripper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Base Scene Clean to strip back any bloated history, usually used as a
compound in the HealthManager for quick access to these key optimisations</p>
<p>Removes:</p>
<ul class="simple">
<li>Unknown Plug-in Dependencies</li>
<li>ALL namespaces</li>
<li>ALL audio files</li>
<li>unused display layers</li>
<li>invalid MetaData</li>
<li>invalid references</li>
<li>turtle nodes</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.BlendShapes_HealthValidation">
<em class="property">class </em><code class="descname">BlendShapes_HealthValidation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.BlendShapes_HealthValidation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Base test to validate the health of all Blendshapes in the scene.</p>
<p>This will:</p>
<ul class="simple">
<li>Test for missing indexes and pad to fix if found - this by-passes fbx issues on export!</li>
<li>Test that all original target geo is in the scene and if not, it will re-generate it</li>
<li>Test that all target geo in the scene is named as per the blendshape target channel and rename if not</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.All_Available_Tests">
<em class="property">class </em><code class="descname">All_Available_Tests</code><span class="sig-paren">(</span><em>*args</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.All_Available_Tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Collection class - this will build up the internal tests to include
ALL currently instanced and found test functions but at the same time
will disable the main run buttons in the HealthManager as these are
NOT designed to be run as a full test set, just a collection of
individual tests</p>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.SceneGeo_HealthValidation">
<em class="property">class </em><code class="descname">SceneGeo_HealthValidation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.SceneGeo_HealthValidation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Base test to validate the health of all geometry in the scene.</p>
<p>This will:</p>
<ul class="simple">
<li>Test for missing geometry!</li>
<li>Test that all geometry in the scene is named as expected</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.MRIG_External_HealthValidations">
<em class="property">class </em><code class="descname">MRIG_External_HealthValidations</code><span class="sig-paren">(</span><em>mRig=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.MRIG_External_HealthValidations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Health systems to validate the status of a connected mRig</p>
<p>This is the base level Rig Systems Health, testing some of the core structures
in the wiring of an external mRig system</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.get_metaRigs">
<code class="descname">get_metaRigs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.get_metaRigs" title="Permalink to this definition">¶</a></dt>
<dd><p>generic mrig call for all base tests</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.get_root_jnt">
<code class="descname">get_root_jnt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.get_root_jnt" title="Permalink to this definition">¶</a></dt>
<dd><p>generic call for all tests dealing with skeleton roots. This finds the first instance
of a mRig then calls the internal mrig.get_root_jnt() That in turn finds the rootJnt
from the exportSkeletonRoot wire, either on the mRig or the connected exportTag.
If the mrig returned is inherited from the MetaHIKCharacterNode thne we assume that the
“Reference” wire in the HIK definition is connected and we use that.
If non of the mrig funcs return a skeleton then we regress to find the first root
level skeleton in the scene.</p>
<p>Remember that the return from the getMetaRigs() is always in favour of the most influential:
‘Pro_MetaRig’ or ‘Pro_MetaRig_FacialUI’ or ‘Pro_MetaRig_SRC’ or ‘MetaRig’</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_timeUnits_test">
<code class="descname">maya_timeUnits_test</code><span class="sig-paren">(</span><em>expected='ntsc'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_timeUnits_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Units: timeUnit is as expected</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_timeUnits_fix">
<code class="descname">maya_timeUnits_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_timeUnits_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: this should adjust the exportLoop timings also</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_sceneUnits_test">
<code class="descname">maya_sceneUnits_test</code><span class="sig-paren">(</span><em>expected='centimeter'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_sceneUnits_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Units: sceneUnits are es expected</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_sceneUnits_fix">
<code class="descname">maya_sceneUnits_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_sceneUnits_fix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_upAxis_test">
<code class="descname">maya_upAxis_test</code><span class="sig-paren">(</span><em>expected='y'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_upAxis_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Units: upAxis is as expected</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_upAxis_fix">
<code class="descname">maya_upAxis_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_upAxis_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix the upAxis to the expected result</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_evalManager_test">
<code class="descname">maya_evalManager_test</code><span class="sig-paren">(</span><em>expected='off'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_evalManager_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Eval Manager: off, parallel or serial (serial should never be run in production only for debugging)</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_evalManager_fix">
<code class="descname">maya_evalManager_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_evalManager_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix the evalManager graph to the expected result</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_timerange_test">
<code class="descname">maya_timerange_test</code><span class="sig-paren">(</span><em>expected=(0</em>, <em>1)</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_timerange_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Timeranges: are the current playback timeranges as expected (used mainly when setting the rigs up)</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_timerange_fix">
<code class="descname">maya_timerange_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_timerange_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix the timeranges as expected</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_version_required_test">
<code class="descname">maya_version_required_test</code><span class="sig-paren">(</span><em>expected=2019.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_version_required_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Target Version: make sure that the target version of Maya
matches the given, this is a float so 2015.0, 2016.0, 2016.5….
Uses the r9Setup.mayaVersion() call to get the data</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_version_lowest_base_test">
<code class="descname">maya_version_lowest_base_test</code><span class="sig-paren">(</span><em>expected=2019.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_version_lowest_base_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Target Lowest Base: make sure that the target version of Maya
is equal, or above the given, this is a float so 2015.0, 2016.0, 2016.5….
Uses the r9Setup.mayaVersion() call to get the data</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.maya_version_highest_base_test">
<code class="descname">maya_version_highest_base_test</code><span class="sig-paren">(</span><em>expected=2019.0</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.maya_version_highest_base_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Maya Target Lowest Base: make sure that the target version of Maya
is equal, or above the given, this is a float so 2015.0, 2016.0, 2016.5….
Uses the r9Setup.mayaVersion() call to get the data</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.nodes_exist_test">
<code class="descname">nodes_exist_test</code><span class="sig-paren">(</span><em>expected=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.nodes_exist_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check in the Maya scene for a pre-existing set of nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.meta_nodes_get">
<code class="descname">meta_nodes_get</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.meta_nodes_get" title="Permalink to this definition">¶</a></dt>
<dd><p>simple get for all metaNodes in the scene, this only returns the dag paths NOT instantiated mNode</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.meta_nodes_invalid_test">
<code class="descname">meta_nodes_invalid_test</code><span class="sig-paren">(</span><em>expected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.meta_nodes_invalid_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test for metaNodes in the scene which are deemed inValid
by their own internal mNode.isValid() call. Usually if they
have no connections to other nodes.
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> – NA - unused</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.meta_nodes_invalid_fix">
<code class="descname">meta_nodes_invalid_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.meta_nodes_invalid_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>find all inValid metaNodes by deleting them via their
internal mNode.delete() call
This fix method is bound in such a way that it will run the test
method internally if not already run.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_haveKeys_test">
<code class="descname">mRigs_haveKeys_test</code><span class="sig-paren">(</span><em>expected=False</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_haveKeys_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check if all mRigs in the scene have existing keys or not
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – if we’re expecting keys or not</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_haveKeys_fix">
<code class="descname">mRigs_haveKeys_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_haveKeys_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>remove all keys found and reset / zeropose the rig
This fix method is bound in such a way that it will run the test
method internally if not already run.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_zeroPose_test">
<code class="descname">mRigs_zeroPose_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_zeroPose_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check if all mRigs in the scene have existing zeroPoses
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – NA - unused</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_zeroPose_fix">
<code class="descname">mRigs_zeroPose_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_zeroPose_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>add a ZeroPose to the Rig in it’s current state
This fix method is bound in such a way that it will run the test
method internally if not already run.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_attrMap_test">
<code class="descname">mRigs_attrMap_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_attrMap_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check if all mRigs in the scene have existing attrMaps
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – NA - unused</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_attrMap_fix">
<code class="descname">mRigs_attrMap_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_attrMap_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>add a ZeroPose to the Rig in it’s current state
This fix method is bound in such a way that it will run the test
method internally if not already run.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_renderMeshes_hooked_test">
<code class="descname">mRigs_renderMeshes_hooked_test</code><span class="sig-paren">(</span><em>expected=1</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_renderMeshes_hooked_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check if all mRigs in the scene have existing renderMeshes hooked up
or at least the expected number or above. This wire is used by the PoseSaver
to create the PosePointCloud visual mesh reference
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – minimum number of expected meshes hooked up</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_renderMeshes_head_hooked">
<code class="descname">mRigs_renderMeshes_head_hooked</code><span class="sig-paren">(</span><em>expected=1</em>, <em>mRigs=[]</em>, <em>group='main'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_renderMeshes_head_hooked" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check is all mRigs in the scene have existing renderMeshes_head hooked up
or at least the expected number or above. This wire is used by the PoseSaver
to create the PosePointCloud visual mesh reference
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – minimum number of expected meshes hooked up</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_renderMeshes_static_head_hooked">
<code class="descname">mRigs_renderMeshes_static_head_hooked</code><span class="sig-paren">(</span><em>expected=1</em>, <em>mRigs=[]</em>, <em>group='main'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_renderMeshes_static_head_hooked" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check is all mRigs in the scene have existing renderMeshes_static_head hooked up
or at least the expected number or above. This wire is used by the PoseSaver
to create the PosePointCloud visual mesh reference
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – minimum number of expected meshes hooked up</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_meshes_rootparent_test">
<code class="descname">mRigs_meshes_rootparent_test</code><span class="sig-paren">(</span><em>expected='|models'</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_meshes_rootparent_test" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;&lt; SRC Export bindpose Test &gt;&gt;</p>
<p>check that all renderMeshes and renderMeshes_head nodes are
parented under a single group (expected=’models’) in the root of the
Maya scene.
If not the fix will create the root folder and re-parent all meshes
into it, it will not clean up previous groups or folders as it’s designed
primarily as a pre-export SRC test</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_meshes_rootparent_fix">
<code class="descname">mRigs_meshes_rootparent_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_meshes_rootparent_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix the naming and parenting of the renderMesh parent node if found</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_meshes_draw_reset_test">
<code class="descname">mRigs_meshes_draw_reset_test</code><span class="sig-paren">(</span><em>mRigs=[]</em>, <em>forced=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_meshes_draw_reset_test" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;&lt; SRC Export bindpose Test &gt;&gt;</p>
<p>check that all renderMeshes and renderMeshes_head nodes have all
their draw overrides and visibilities set to default</p>
<p>this tests for:
* jnt.visibility = 1
* jnt.lodVisibility = 1
* jnt.overrideEnabled = 0
* jnt.overrideDisplayType = 0</p>
<p>If not the fix will force disconnect (if set to force) and rest the values</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_meshes_draw_reset_fix">
<code class="descname">mRigs_meshes_draw_reset_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_meshes_draw_reset_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>reset the draw overrides for the failed renderMeshes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_exportSkeletonRoot_test">
<code class="descname">mRigs_exportSkeletonRoot_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_exportSkeletonRoot_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check if all mRigs in the scene have existing exportSkeletonRoot hooked up
this wire is used by the PoseSaver to generate the skeletonData block
Failed Results built : HealthObject.results_failed_nodes  : [mRig,…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – NA - unused</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_mirrorIndexClashes_test">
<code class="descname">mRigs_mirrorIndexClashes_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_mirrorIndexClashes_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check for any clashing mirrorIndexes on mRigs
Failed Results built : HealthObject.results_failed_nodes  : [(mRig, node),…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – NA - unused</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_mirrorIndexMissing_test">
<code class="descname">mRigs_mirrorIndexMissing_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_mirrorIndexMissing_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check that all controllers wired to the rigs have mirrorIndexes assigned
Failed Results built : HealthObject.results_failed_nodes  : [(mRig, node),…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – NA - unused</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_unwired_ctrls_test">
<code class="descname">mRigs_unwired_ctrls_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>mRigs=[]</em>, <em>searchPattern=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_unwired_ctrls_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to check that all child nurbsCurves, with optional name matching, under the mrig.ctrl_main
of the mRig are wired to the systems. This is a WARNING only as it’s a very general test
but useful for debugging everything
Failed Results built : HealthObject.results_failed_nodes  : [(mRig, node),…]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – NA - unused</li>
<li><strong>mRigs</strong> – specific mRig metaNodes only if passed</li>
<li><strong>searchPatetrn</strong> – if given this is used in the search to find nurbsCurves with given naming conventions</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a Warning failure only</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_characterset_test">
<code class="descname">mRigs_characterset_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em>, <em>emptyset=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_characterset_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check to see if all the mRig controllers attributes that are exposed are wired to a valid characterSet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>emptyset</strong> – if given this is the name of any new chSet created for a rig, else we default to ‘character’</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_characterset_fix">
<code class="descname">mRigs_characterset_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_characterset_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix character set membership for the failed mRig node attrs</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">this now looks at each mRigs characterSet, if it already has membership to a characterSet
then all fails will be added to that chSet.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_timecode_attrs_test">
<code class="descname">mRigs_timecode_attrs_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_timecode_attrs_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check to see if the mRig has timecode attrs propagated to it</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_timecode_attrs_fix">
<code class="descname">mRigs_timecode_attrs_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_timecode_attrs_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>add production TimeCode attrs to CTRL_Main if not found</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_timecode_valid_test">
<code class="descname">mRigs_timecode_valid_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_timecode_valid_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check to see if the mRig timecode attrs are valid, particularly the SampleRate which doesn’t handle zero values!</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_timecode_valid_fix">
<code class="descname">mRigs_timecode_valid_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_timecode_valid_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>try and fix issues in the timecode attrs</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_pickertemplate_test">
<code class="descname">mRigs_pickertemplate_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em>, <em>templatefile=''</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_pickertemplate_test" title="Permalink to this definition">¶</a></dt>
<dd><p>generic MetaRig also supported with this test
check to see if the mRig has a valid Pro Picker template</p>
<p>This is a Warning failure only</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – if we were expecting a picker or not</li>
<li><strong>mRigs</strong> – given mRigs to test, if None then we find all instances of mRigs in the scene</li>
<li><strong>templatefile</strong> – template file to use in the fix method if not already found</li>
<li><strong>force</strong> – if force and template file given then the test if failed by default allowing the fix to
force update any template already loaded on the mRig</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_pickertemplate_fix">
<code class="descname">mRigs_pickertemplate_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_pickertemplate_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>add the Picker Template to mRig if not found</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_filterssettings_test">
<code class="descname">mRigs_filterssettings_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em>, <em>templatefile='Red9_DevRig.cfg'</em>, <em>sync_to_template=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_filterssettings_test" title="Permalink to this definition">¶</a></dt>
<dd><p>generic MetaRig also supported with this test
check to see if the mRig has a filterSettings config
bound to it internally</p>
<p>This is a Warning failure only</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – if we were expecting a settings or not</li>
<li><strong>mRigs</strong> – given mRigs to test, if None then we find all instances of mRigs in the scene</li>
<li><strong>templatefile</strong> – template file to use in the fix method if not already found</li>
<li><strong>sync_to_template</strong> – if True (default) we force sync mrig.settings to the given template data,
else we just check if the rig has settings and if so ignore the template. In this case we’re only
using the template arg if the mrig.settings are blank</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_filterssettings_fix">
<code class="descname">mRigs_filterssettings_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_filterssettings_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>bind the given filterSettings preset config file internally to the mRig</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_shape_test">
<code class="descname">mRigs_isHistoricallyInteresting_shape_test</code><span class="sig-paren">(</span><em>expected=0</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_shape_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test all controllers in the rig and check the status of all of their
child shapes isHistoricallyinteresting attr</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – value we’re expecting for the isHistoricallyInteresting attr, default=0 which means hide it, 2 would restore the nodes</li>
<li><strong>mRigs</strong> – specific mRigs else we process all found in the scene</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_shape_fix">
<code class="descname">mRigs_isHistoricallyInteresting_shape_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_shape_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>reset the isHistoricallyInteresting attr to the expected value</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_utility_test">
<code class="descname">mRigs_isHistoricallyInteresting_utility_test</code><span class="sig-paren">(</span><em>expected=0</em>, <em>mRigs=[]</em>, <em>version=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_utility_test" title="Permalink to this definition">¶</a></dt>
<dd><p>ceck the controllers history nodes and hide all utility nodes via the node.isHistoricallyInteresting attr.
This means in the ChannelBox we should have no Output nodes other than base blendshapes, skinclusers,
networks and character sets etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – value we’re expecting for the isHistoricallyInteresting attr, default=0 which means hide it, 2 would restore the nodes</li>
<li><strong>mRigs</strong> – specific mRigs else we process all found in the scene</li>
<li><strong>version</strong> – if given this is the internal mRig.version that we have to be above or equal to in order to process. This internally
prevents us running this on older rigs that haven’t been tested against this</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_utility_fix">
<code class="descname">mRigs_isHistoricallyInteresting_utility_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_isHistoricallyInteresting_utility_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>reset the isHistoricallyInteresting attr to the expected value</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_are_referenced_test">
<code class="descname">mRigs_are_referenced_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_are_referenced_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check that all mRigs in the scene are referenced (or not) depending on the expected flag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – if True we return a fail if there are none reference mRigs in the scene</li>
<li><strong>mRigs</strong> – specific mRigs else we process all found in the scene</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_geo_display_attr_test">
<code class="descname">mRigs_geo_display_attr_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>meshes=[]</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_geo_display_attr_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to see if main control has geo_display attr and check that render meshes overrideDisplayType are
connected to main control.geo_display</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_geo_display_attr_fix">
<code class="descname">mRigs_geo_display_attr_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_geo_display_attr_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>add geo_display Att to main ctrl if do not exist and connect render meshes to control.geo_display attr</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_ctrl_name_match_test">
<code class="descname">mRigs_ctrl_name_match_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_ctrl_name_match_test" title="Permalink to this definition">¶</a></dt>
<dd><p>given 2 mRigs first do a full connection mapping then compare the names of 
ctrls based on their wiring to the mRig networks. First rig given (or found)
is the master rig, second rig given (or found) is the rig we’re testing</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_ctrl_name_match_fix">
<code class="descname">mRigs_ctrl_name_match_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_ctrl_name_match_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix for ctrl name errors, fixes use the actual mAttr wire back to the ctrls parent mSubSystem
for consistency</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_exporttags_test">
<code class="descname">mRigs_exporttags_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_exporttags_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Check exportTag setups - NOT run in the publisher, Internals has a more aggressive set of tests!
This is a Warning failure only</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_exporttags_fix">
<code class="descname">mRigs_exporttags_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_exporttags_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the base character Export tag if not found, if the root wasn’t connected then
hook it up to the mRig.skeletonRoot jnt from the publisher</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_export_blendattrs_cast_test">
<code class="descname">mRigs_export_blendattrs_cast_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>mRigs=None</em>, <em>range=1</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_export_blendattrs_cast_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Check exportTag setups - check ONLY VALID if we have renderMeshes wired.</p>
<ul class="simple">
<li>Validate that if any of the renderMeshes have blendshapes, that the target attrs of the blends     are cast over to the exportRoot jnt. By propagating the root jnt with matching attrs and wiring     those to the blendshape output we ensure that the data will be picked up on engine export.</li>
<li>Also validate that is we’re casting we also add the override_attr_binduserattrs to the rootJoint     to allow these userDefined attr through the fbx export process</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mRigs_export_blendattrs_cast_fix">
<code class="descname">mRigs_export_blendattrs_cast_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mRigs_export_blendattrs_cast_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure we cast all target channels for all blendshapes associated with the renderMeshes
over to connected attrs on the exportRoot jnt. This ensure</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.exportTag_bpose_test">
<code class="descname">exportTag_bpose_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>expTags=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.exportTag_bpose_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Check exportTag setups - this makes sure we only have 1 joint stamped with the
‘bpose’ attr used by the relative export output to reset the skeleton to bpose.</p>
<p>This is a Warning failure only</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.exportLoopNode_framerate_test">
<code class="descname">exportLoopNode_framerate_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>loops=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.exportLoopNode_framerate_test" title="Permalink to this definition">¶</a></dt>
<dd><p>generic ExportLoopNode check to make sure that framerate changes are
reflected in the export ranges</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – this gets filled by the currentFramerate</li>
<li><strong>loops</strong> – given exportLoops to test, if None then we find all instances of ExportLoopNodes in the scene</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.exportLoopNode_framerate_fix">
<code class="descname">exportLoopNode_framerate_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.exportLoopNode_framerate_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind the given filterSettings preset config file internally to the mRig</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.exportNames_valid_test">
<code class="descname">exportNames_valid_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>root=''</em>, <em>bases=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.exportNames_valid_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check that the given hierarchy doesn’t have names which will clash with any dag or non-dag node
in the scene, be those utility nodes or layers. If you have clashes then when the hierarchy
is duplicated those clashing node will be appended numerically. This happens when you duplicate
a referenced hierarchy back into root space, the created nodes can’t clash with existing nodes in root space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> – the root of the hierarchy we want to check</li>
<li><strong>bases</strong> – [] if given this is the root level ndoes we’re checking against (optimization for export)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.get_scene_geo_data">
<code class="descname">get_scene_geo_data</code><span class="sig-paren">(</span><em>filepath=None</em>, <em>write=False</em>, <em>selected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.get_scene_geo_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a scene geometry info with data about all the geometries in the scene, number of vertex, edges, faces,
names &amp; transforms if write set to true it will write a .sgfi file in the same location and name of the maya file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> – optional filepath of the scene geometry info file</li>
<li><strong>write</strong> – bool to enable or disable write functionality</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_vertex_position_change_test">
<code class="descname">scene_geo_vertex_position_change_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>filepath=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_vertex_position_change_test" title="Permalink to this definition">¶</a></dt>
<dd><p>this test compares the vertex positions of mesh geometry in the scene against pre-saved sgfi file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> – filepath of the sgfi file we’re going to test against</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_vertex_position_change_select">
<code class="descname">scene_geo_vertex_position_change_select</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_vertex_position_change_select" title="Permalink to this definition">¶</a></dt>
<dd><p>select all vertices that changed positions</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_history_test">
<code class="descname">scene_geo_history_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>filepath=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_history_test" title="Permalink to this definition">¶</a></dt>
<dd><p>this test compares the names of  mesh geometry in the scene against pre-saved sgfi file, first querying the file
geometries in the scene and then trying to match using vertex counts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> – filepath of the sgfi file we’re going to test against</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_history_fix">
<code class="descname">scene_geo_history_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_history_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>delete the history on the failed nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_rename_selected_test">
<code class="descname">scene_geo_rename_selected_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>filepath=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_rename_selected_test" title="Permalink to this definition">¶</a></dt>
<dd><p>this test compares the names of mesh geometry in the scene against pre-saved sgfi file, first querying the file
geometries in the scene and then tries to match using components counts to match names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> – filepath of the sgfi file we’re going to test against</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_rename_test">
<code class="descname">scene_geo_rename_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>filepath=''</em>, <em>selected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_rename_test" title="Permalink to this definition">¶</a></dt>
<dd><p>this test compares the names of  mesh geometry in the scene against pre-saved sgfi file, first querying the file
geometries in the scene and then tries to match using components counts to match names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> – filepath of the sgfi file we’re going to test against</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_rename_fix">
<code class="descname">scene_geo_rename_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_rename_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename failed nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_freeze_transforms_test">
<code class="descname">scene_geo_freeze_transforms_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>filepath=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_freeze_transforms_test" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – </li>
<li><strong>filepath</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.scene_geo_freeze_transforms_fix">
<code class="descname">scene_geo_freeze_transforms_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.scene_geo_freeze_transforms_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>freeze transform on the failed nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.initial_shading_group_locked_test">
<code class="descname">initial_shading_group_locked_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.initial_shading_group_locked_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Scene Health General Issue:</p>
<p>Test to see if the initialShadingGroup is unlocked as it should be.
We’ve had files from clients where this has been locked and that prevents
even the most simple objects, such as polyCube from being created!</p>
<p>The fix will unlock the initialShadingGroup</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.initial_shading_group_locked_fix">
<code class="descname">initial_shading_group_locked_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.initial_shading_group_locked_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>runs : cmds.lockNode(‘initialShadingGroup’, l=False, lu=False)</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.outliner_select_cmd_reset_test">
<code class="descname">outliner_select_cmd_reset_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.outliner_select_cmd_reset_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Scene Health General Issue:</p>
<p>Test to see if the outLinerEditor selectCommand has been changed and to reset
to default when fixed. We’ve had a number of different issues that show when you
select nodes in the outliner such as:</p>
<p>Outliner Error : Cannot find procedure “look”
Outliner Error : Cannot find procedure “pass”</p>
<p>The fix will reset the select command :  maya.mel.eval(‘outlinerEditor -edit -selectCommand “” “outlinerPanel1”;’)</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.outliner_select_cmd_reset_fix">
<code class="descname">outliner_select_cmd_reset_fix</code><span class="sig-paren">(</span><em>HealthObject=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.outliner_select_cmd_reset_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>runs : maya.mel.eval(‘outlinerEditor -edit -selectCommand “” “outlinerPanel1”;’)</p>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.optimiser.Skin_HealthValidations">
<em class="property">class </em><code class="descname">Skin_HealthValidations</code><span class="sig-paren">(</span><em>shapes=[]</em>, <em>ui=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.Skin_HealthValidations" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Red9.pro_pack.core.optimiser.HealthValidation" title="Red9.pro_pack.core.optimiser.HealthValidation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Red9.pro_pack.core.optimiser.HealthValidation</span></code></a></p>
<p>Compound for testing SkinCluster integrity</p>
<p>checks to ensure:</p>
<ul class="simple">
<li>Maximum amount of influence joints per vertex are respected</li>
<li>weight values are properly normalize in each vertex</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_maximum_influences_test">
<code class="descname">skin_maximum_influences_test</code><span class="sig-paren">(</span><em>shapes=[]</em>, <em>ui=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_maximum_influences_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the maximum skin joints influence on mesh or meshes, it uses the skinCluster.maxInfluences attribute to
determinate how many joints are allow to influence each vertex in the mesh</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shapes</strong> – list of shape string names or list of tuples if require to test specific vertex on a shape</li>
<li><strong>ui</strong> – object of type R9sknUI</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r9popt</span><span class="o">.</span><span class="n">skin_maximum_influences_test</span><span class="p">(</span><span class="n">shapes</span><span class="o">=</span><span class="p">[</span><span class="o">|</span><span class="n">pat_to</span><span class="o">|</span><span class="n">ShapeA</span><span class="p">,</span> <span class="o">|</span><span class="n">pat_to</span><span class="o">|</span><span class="n">ShapeB</span><span class="p">])</span>    <span class="n">Test</span> <span class="nb">all</span> <span class="n">vertex</span> <span class="n">of</span> <span class="n">ShapeA</span> <span class="ow">and</span> <span class="n">ShapeB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9popt</span><span class="o">.</span><span class="n">skin_maximum_influences_test</span><span class="p">(</span><span class="n">shapes</span><span class="o">=</span><span class="p">[(</span><span class="o">|</span><span class="n">pat_to</span><span class="o">|</span><span class="n">ShapeA</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">50</span><span class="p">])])</span>    <span class="n">Test</span> <span class="n">vertex</span> <span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">50</span> <span class="n">of</span> <span class="n">ShapeA</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_maximum_influences_fix">
<code class="descname">skin_maximum_influences_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_maximum_influences_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix function bound to skin_maximum_influences_test function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>HealthObject</strong> – HealthObject from skin_maximum_influences_test function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_values_test">
<code class="descname">skin_values_test</code><span class="sig-paren">(</span><em>shapes=[]</em>, <em>ui=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_values_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the skin values on mesh or meshes, to determinate values that are not normalize to 1.0</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shapes</strong> – list of shape string names or list of tuples if require to test specific vertex on a shape</li>
<li><strong>ui</strong> – object of type R9sknUI</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r9popt</span><span class="o">.</span><span class="n">skin_values_test</span><span class="p">(</span><span class="n">shapes</span><span class="o">=</span><span class="p">[</span><span class="o">|</span><span class="n">pat_to</span><span class="o">|</span><span class="n">ShapeA</span><span class="p">,</span> <span class="o">|</span><span class="n">pat_to</span><span class="o">|</span><span class="n">ShapeB</span><span class="p">])</span>    <span class="n">Test</span> <span class="nb">all</span> <span class="n">vertex</span> <span class="n">of</span> <span class="n">ShapeA</span> <span class="ow">and</span> <span class="n">ShapeB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9popt</span><span class="o">.</span><span class="n">skin_values_test</span><span class="p">(</span><span class="n">shapes</span><span class="o">=</span><span class="p">[(</span><span class="o">|</span><span class="n">pat_to</span><span class="o">|</span><span class="n">ShapeA</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">50</span><span class="p">])])</span>    <span class="n">Test</span> <span class="n">vertex</span> <span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">50</span> <span class="n">of</span> <span class="n">ShapeA</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_values_test_fix">
<code class="descname">skin_values_test_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_values_test_fix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_influenced_by_test">
<code class="descname">skin_influenced_by_test</code><span class="sig-paren">(</span><em>expected=None</em>, <em>skins=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_influenced_by_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check for any meshes / skinClusters that have more than influences than the expected
This ONLY tests skinClusters attached to mesh objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – maximum number of skin weights per vert for all skinClusters found or passed</li>
<li><strong>skins</strong> – list of specific skins to test if you want to test only specific skins</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_method_test">
<code class="descname">skin_method_test</code><span class="sig-paren">(</span><em>expected='linear'</em>, <em>skins=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_method_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check the skinMethod used by all skinClusters matches the expected
either dq or linear. This ONLY tests skinClusters attached to mesh objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – ‘linear’,’dq’ or ‘blended’ skinning methods, relates to 0=linear, 1=dq, 2=weightBlended</li>
<li><strong>skins</strong> – list of specific skins to test if you want to test only specific skins</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skin_method_fix">
<code class="descname">skin_method_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skin_method_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>set the skinning method on the failed nodes appropriately</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skinned_joints_at_zero_rotate">
<code class="descname">skinned_joints_at_zero_rotate</code><span class="sig-paren">(</span><em>expected='True'</em>, <em>skins=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skinned_joints_at_zero_rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check that all joints that are part of a skinCluster have
zero_rotates. This ONLY tests skinClusters attached to mesh objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – True - all joints have zero rotates</li>
<li><strong>skins</strong> – list of specific skins to test if you want to test only specific skins</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_rotate_tolerance_test">
<code class="descname">skeleton_rotate_tolerance_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>tolerance=0.001</em>, <em>searchPattern=[]</em>, <em>fk=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_rotate_tolerance_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check that all joints under a given rootJnt have a
rotation value under the given tolerance. This is used when binding a
rig-up to ensure that we get no additional gimbal introduced via a rig system etc.</p>
<p>Running the fix method will zero the rotate values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</li>
<li><strong>tolerance</strong> – maximum allowed rotate in any axis for the joints</li>
<li><strong>searchPattern</strong> – regex arg passed so we can do simple testing for strings and ignore matches.</li>
<li><strong>fk</strong> – when dealing with an mRig this option switches the rig into FK mode before the test, due to the
nature of IK joints will move slightly regardless, so testing in FK ensures at the base level all jnts are zero’d</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_rotate_tolerance_fix">
<code class="descname">skeleton_rotate_tolerance_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_rotate_tolerance_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>set all failed joints to zero</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_at_bpose_test">
<code class="descname">skeleton_at_bpose_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>fk=False</em>, <em>longname=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_at_bpose_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check that all joints under a given rootJnt match that skeleton’s
internal ‘bpose’ as stamped onto it through the Red9 ProPack RigManager</p>
<p>Running the fix method will load the ‘bpose’ data from the internal skeleton attr</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</li>
<li><strong>fk</strong> – when dealing with an mRig this option switches the rig into FK mode before the test, due to the
nature of IK joints will move slightly regardless, so testing in FK ensures at the base level all jnts are zero’d</li>
<li><strong>longname</strong> – if True, default, we validate the dag path complete, else we use short name matching only</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_at_bpose_fix">
<code class="descname">skeleton_at_bpose_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_at_bpose_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>set all failed joints to zero</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_has_keys_test">
<code class="descname">skeleton_has_keys_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>searchPattern=[]</em>, <em>expected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_has_keys_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check that all joints under a given rootJnt have no animation
keys set on them. If no rootJnt is passed then we try and inspect the
mRig or SrcExt / exportTag nodes</p>
<p>Running the fix method will delete all keys from the skeleton</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</li>
<li><strong>searchPattern</strong> – regex arg passed so we can do simple testing for strings and ignore matches.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_has_keys_fix">
<code class="descname">skeleton_has_keys_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_has_keys_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>delete all found animCurves on the failed joints</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_clean_hierarchy_test">
<code class="descname">skeleton_clean_hierarchy_test</code><span class="sig-paren">(</span><em>rootJnt=None, expected=['camera'], *args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_clean_hierarchy_test" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;&lt; SRC Export bindpose Test &gt;&gt;</p>
<p>Test to check that a skeletal hierarchy has no other nodetypes under it</p>
<p>Running the fix method will delete all none joints in the hierarchy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</li>
<li><strong>expected</strong> – [] if given these are additional nodetypes that are allowed into the hierarchy
default = [‘camera’] so that joints and cameras will be allowed to pass through</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_clean_hierarchy_fix">
<code class="descname">skeleton_clean_hierarchy_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_clean_hierarchy_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>delete all found NONE joint type nodes in the hierarchy</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_has_connections_test">
<code class="descname">skeleton_has_connections_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>expected=True</em>, <em>inc_user_defined=True</em>, <em>skip_metahooks=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_has_connections_test" title="Permalink to this definition">¶</a></dt>
<dd><p>&lt;&lt; SRC Export bindpose Test &gt;&gt;</p>
<p>Test that no joints in a skelatal hierarchy have any connections to any of the base transform attrs
and are free to be hooked up if required</p>
<p>Running the fix method will disconnect all connections</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</li>
<li><strong>skip_metahooks</strong> – if True(default) and the connected node via a userDefined attr is a metaNode then retain it</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Parma inc_user_defined:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">if True we include all userDefined attrs in the search</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_has_connections_fix">
<code class="descname">skeleton_has_connections_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_has_connections_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>delete all found NONE joint type nodes in the hierarchy</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_parented_world_test">
<code class="descname">skeleton_parented_world_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>expected=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_parented_world_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check that a skeleton is in root parent space
Running the fix method will parent the root joint to the world</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_parented_world_fix">
<code class="descname">skeleton_parented_world_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_parented_world_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>delete all found NONE joint type nodes in the hierarchy</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_unique_names_test">
<code class="descname">skeleton_unique_names_test</code><span class="sig-paren">(</span><em>rootJnt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_unique_names_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check that all joints in a given skeleton have unique short names
results_failed={shortname:(longname1, longname2, …)}</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rootJnt</strong> – root of the skeleton to test if not passed we use the mRig networks</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_draw_reset_test">
<code class="descname">skeleton_draw_reset_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>searchPattern=[]</em>, <em>expected=False</em>, <em>forced=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_draw_reset_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to verify the draw states of all joints in a skeleton, this tests for:</p>
<ul class="simple">
<li>jnt.visibility = 1</li>
<li>jnt.lodVisibility = 1</li>
<li>jnt.overrideEnabled = 0</li>
<li>jnt.overrideDisplayType = 0</li>
<li>jnt.drawStyle = 0</li>
<li>jnt.drawLabel = 0</li>
<li>jnt.displayLocalAxis = 0</li>
<li>jnt.displayHandle = 0</li>
</ul>
<p>if any of the following settings aren’t met the jnt fails. This is to return the entire
skeleton back to default draw states prior to the Red9 Puppet build
as that needs full control over these over-rides during the build process</p>
<p>Running the fix method will reset the attrs back to default</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rootJnt</strong> – root joint for the test, if not passed we use the first instance of mRig.skeletonRoot</li>
<li><strong>searchPattern</strong> – regex arg passed so we can do simple testing for strings and ignore matches.</li>
<li><strong>forced</strong> – if True the fix method will break any connections to the attrs above to force the value to be set</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_draw_reset_fix">
<code class="descname">skeleton_draw_reset_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_draw_reset_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>reset all the jnts overrides and visibility back to default</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_pose_compare_test">
<code class="descname">skeleton_pose_compare_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>filepath=''</em>, <em>rootjnt=''</em>, <em>src_rootjnt=''</em>, <em>savebase=False</em>, <em>skip_attrs=[]</em>, <em>longname=True</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_pose_compare_test" title="Permalink to this definition">¶</a></dt>
<dd><p>this test compares the given skeleton with a pre-saved r9Pose file, comparing the joint
hierarchy, joint naming, transforms and orients to validate one skeleton against another</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – default key but unused here</li>
<li><strong>filepath</strong> – filepath of the pose file we’re going to test against</li>
<li><strong>rootjnt</strong> – the root joint of the skeleton we want to test against the given pose file</li>
<li><strong>savebase</strong> – when setting up this test we need a pose file to test against, this allows us to run it
prior to testing and save the pose to the filepath rather than running the actual test</li>
<li><strong>src_rootjnt</strong> – source skeleton to compare against if the filepath wasn’t given</li>
<li><strong>skip_attrs</strong> – a list of attrs we want to skip from the compare</li>
<li><strong>longname</strong> – if True (default, we validate the dag path complete, else we use short name matching only</li>
<li><strong>**kws</strong> – <p>passed directly to the r9Pose.PoseCompare object initialization</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_bindPose_test">
<code class="descname">skeleton_bindPose_test</code><span class="sig-paren">(</span><em>expected=1</em>, <em>skeleton_roots=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_bindPose_test" title="Permalink to this definition">¶</a></dt>
<dd><p>check if we have multiple bindPoses in the scene, if they all relate to the same skeleton hierarchy
we fail the test. Conversely if we have multiple skeletons in the scene we also bail the test</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – max number of bindPoses any skeleton root can have, default = 1</li>
<li><strong>skeleton_roots</strong> – if given we only test the given skeletons hierarchy for bindPoses, else we find
all bindPose nodes and all associated skeleton hierarchies, and test them all for multiple bindPoses</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeleton_bindPose_fix">
<code class="descname">skeleton_bindPose_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeleton_bindPose_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>if the test failed this deletes all current bindPoses on the failed skeleton roots then creates a single new one</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeletal_inverseScales_hooked_test">
<code class="descname">skeletal_inverseScales_hooked_test</code><span class="sig-paren">(</span><em>rootJnt=None</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeletal_inverseScales_hooked_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all joints have the required wire from their parent jnt into
inversaeScale for some reason in production this wire was getting culled</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rootJnt</strong> – if given we only test this hierarchy, else we check all joints in the scene</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.skeletal_inverseScales_hooked_fix">
<code class="descname">skeletal_inverseScales_hooked_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.skeletal_inverseScales_hooked_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconnect the wire from parentJnt.scale to childJnt.inverseScale</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_have_targetGeo_test">
<code class="descname">blends_have_targetGeo_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>blends=[]</em>, <em>meshcheck=True</em>, <em>forcefix=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_have_targetGeo_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test that any blendshapes in the scene have respective
original target meshes wired up to the blend node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – whether the targets should or shouldn’t be in the scene. If they’re found and
expected=False then the fix method will now try and delete them.</li>
<li><strong>blends</strong> – specific blendShape nodes to test against, default=[]</li>
<li><strong>meshcheck</strong> – only check blends associated to polymeshes, default=True</li>
<li><strong>forcefix</strong> – if True then the fix will try and force the re-build, managing any
current connections to the blend targets, disconnecting as needed and restoring afterwards.
Ideally this should NOT be needed, but if your rig has multiple connections that are hard
to track then this should by-pass the issues</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_have_targetGeo_fix">
<code class="descname">blends_have_targetGeo_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_have_targetGeo_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>try and regenerate the original blends targets and hook them back to the
blendShape node for editing or for export requirements</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if the “blends_have_targetGeo_test” has the “forcefix” flag set then the fix code
will try and manage any current connections and deformer states as well as all current
wires to the blendshape node targets themselves. This is a hard core force fix but does restore
all connections afterwards. If the targets are un-wired then that’s ideal but the code will cope if not</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_targetGeo_name_test">
<code class="descname">blends_targetGeo_name_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>blends=[]</em>, <em>meshcheck=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_targetGeo_name_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test that any blendshapes in the scene have respective
original target meshes that are named as per the target attrs driving them
this its crucial for some game engine exporters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – hard set to True, we wouldn’t run the test unless we expected it to be so.</li>
<li><strong>blends</strong> – specific blendShape nodes to test against, default=[]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_targetGeo_name_fix">
<code class="descname">blends_targetGeo_name_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_targetGeo_name_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>try and rename any failed target meshes back to the name of the
target on the blendshape they’re connected too</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_target_count_test">
<code class="descname">blends_target_count_test</code><span class="sig-paren">(</span><em>expected=100</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_target_count_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test that any blendshapes in the scene have less than
a given number of blendTargets</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_target_missing_indexes_test">
<code class="descname">blends_target_missing_indexes_test</code><span class="sig-paren">(</span><em>expected=False</em>, <em>autofix=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_target_missing_indexes_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test for empty indexes on blend nodes which will corrupt any fbx output
This is designed to warning you of possible issues that may arise further
down the line when outputting FBX blendshape data to Unreal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>autofix</strong> – if True we turn on the brute force fix method which will
insert a copy of the base mesh into the empty index slots, therefore
by-passing the FBX export issue</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_target_missing_indexes_fix">
<code class="descname">blends_target_missing_indexes_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_target_missing_indexes_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>brute force fix by adding in a duplicated base mesh padder shape wired as a
new target for the missing index, there by fixing the FBX export issue for Unreal etc.</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_target_driven_test">
<code class="descname">blends_target_driven_test</code><span class="sig-paren">(</span><em>expected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_target_driven_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test connections to all blendshape nodes target channels and fail
if they’re connected. The fix will delete the connections</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.blends_target_driven_fix">
<code class="descname">blends_target_driven_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.blends_target_driven_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>disconnect any of the blend targets that have incoming connections
and reset their value to 0</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_compare_generate">
<code class="descname">mesh_compare_generate</code><span class="sig-paren">(</span><em>mesh</em>, <em>filepath=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_compare_generate" title="Permalink to this definition">¶</a></dt>
<dd><p>safe consistent method to generate the test mesh to use in the compare call</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_compare_against_OBJ_test">
<code class="descname">mesh_compare_against_OBJ_test</code><span class="sig-paren">(</span><em>expected</em>, <em>mesh</em>, <em>opendiff=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_compare_against_OBJ_test" title="Permalink to this definition">¶</a></dt>
<dd><p>compare a given mesh against an expected OBJ file generated
by the “mesh_compare_generate” func above and passed in as a path.
This is useful when building complex facial systems so you can
validate that your mesh returns to the actual master Mesh delivered
by clients. Sometimes simply turning off the skinCluster envelope
is not enough re-assurance that the mesh matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – in this case a path to an obj file that we’re
going to validate the given mesh against</li>
<li><strong>mesh</strong> – mesh to compare against in scene</li>
<li><strong>opendiff</strong> – if True open diffMerge and show the difference in the file structure</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This requires Diffmerge.exe, you can download from
<a class="reference external" href="https://sourcegear.com/diffmerge/">https://sourcegear.com/diffmerge/</a>.
Once downloaded drop it here Red9/packages/diffMerge.exe</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_frozen_xforms_test">
<code class="descname">mesh_frozen_xforms_test</code><span class="sig-paren">(</span><em>expected=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_frozen_xforms_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test mainly for riggers, check that all meshes have frozen, zero transforms</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_frozen_xforms_fix">
<code class="descname">mesh_frozen_xforms_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_frozen_xforms_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : freeze the failed meshes transforms</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_lock_normals_test">
<code class="descname">mesh_lock_normals_test</code><span class="sig-paren">(</span><em>root=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_lock_normals_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if meshes have nolrmals lock</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_lock_normals_fix">
<code class="descname">mesh_lock_normals_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_lock_normals_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix method to unlock normals
:return: list of meshes that have normals unlocked</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_original_shape_cleanup_test">
<code class="descname">mesh_original_shape_cleanup_test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_original_shape_cleanup_test" title="Permalink to this definition">¶</a></dt>
<dd><p>this will delete all non required original geo from the scene,
often left behind when you duplicate meshes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_original_shape_cleanup_fix">
<code class="descname">mesh_original_shape_cleanup_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_original_shape_cleanup_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : delete redundant OriginalShape nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_integrity_test">
<code class="descname">mesh_integrity_test</code><span class="sig-paren">(</span><em>meshes</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_integrity_test" title="Permalink to this definition">¶</a></dt>
<dd><p>InProgress : test given mesh for ZeroArea polys and polys with No UVs</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.mesh_integrity_fix">
<code class="descname">mesh_integrity_fix</code><span class="sig-paren">(</span><em>self</em>, <em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.mesh_integrity_fix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.texture_path_isValid_test">
<code class="descname">texture_path_isValid_test</code><span class="sig-paren">(</span><em>expected=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.texture_path_isValid_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test if all file nodes have valid texture paths</p>
<p>TODO: return r9File objects so we can automatically do the p4sync if needed??</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.texture_path_isValid_fix">
<code class="descname">texture_path_isValid_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.texture_path_isValid_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>if we have an asset control like P4 try and run a file sync</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.texture_path_under_rootfolder_test">
<code class="descname">texture_path_under_rootfolder_test</code><span class="sig-paren">(</span><em>expected=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.texture_path_under_rootfolder_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to see if the texture paths for all file nodes are under
the correct rootfolder path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> – rootpath to test against</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.texture_path_under_rootfolder_fix">
<code class="descname">texture_path_under_rootfolder_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.texture_path_under_rootfolder_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>repath the textures if they aren’t in a subfolder from the basefile</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.shape_node_names_test">
<code class="descname">shape_node_names_test</code><span class="sig-paren">(</span><em>nodes=None</em>, <em>expected='True'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.shape_node_names_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to check that shape names under transforms are named accordingly</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – True - all joints have zero rotates</li>
<li><strong>nodes</strong> – list of specific nodes to test if you want to test only specific shapes</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.shape_node_names_test_fix">
<code class="descname">shape_node_names_test_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.shape_node_names_test_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix shapeNode names based on transform parent names</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_arrays">
<code class="descname">character_set_arrays</code><span class="sig-paren">(</span><em>chset=None</em>, <em>filepath=None</em>, <em>insert_buffers=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>CharacterSet debugging for placeholder list orders. This returns a dic
containing {‘linearValues’:[], ‘angularValues’:[], ‘unitlessValues’:[]}
where each key is a list of tuples [(index, plug, node, attr), (……</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>chset</strong> – if given inspect this chSet, else use the character set in the scene</li>
<li><strong>filepath</strong> – optional, if given save the data out to a json file</li>
<li><strong>insert_buffers</strong> – if True and the chSet has had objects removed leaving empty indexes
then add buffer data to pad the arrays, ensuring we deal with such data</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the nodes are always stored without namespaces for consistency. If on load the node is still
under a namespace then the load code will deal with it as long as there’s only 1 node with
the same name across all namespaces in the scene</p>
</div>
<p>TODO: store the data via the metaWires rather than dagpath/node??</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_compare">
<code class="descname">character_set_compare</code><span class="sig-paren">(</span><em>chset=None</em>, <em>filepath=''</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>compare the contents of the current chSet in the scene with that given from filepath</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chset</strong> – if given inspect this chSet, else use the character set in the scene</li>
<li><strong>filepath</strong> – filepath for the stored out chSet to compare against. This must be written out by the character_set_arrays() func above</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of fails as a dict {‘linearValues’:[], ‘angularValues’:[], ‘unitlessValues’:[], ‘additionalPlugs’:[]}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_recreate">
<code class="descname">character_set_recreate</code><span class="sig-paren">(</span><em>filepath</em>, <em>force=False</em>, <em>allow_multiple=False</em>, <em>allow_padding=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_recreate" title="Permalink to this definition">¶</a></dt>
<dd><p>from a given chSet json file, rebuild the character set from scratch</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> – re-create a character set from scratch using the given file, generated by the character_set_arrays() func</li>
<li><strong>force</strong> – if True and the scene already has a character set then we delete that before rebuilding</li>
<li><strong>allow_multiple</strong> – if True we don’t try and delete current character sets, instead we just create a new one named “character”</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_compare_test">
<code class="descname">character_set_compare_test</code><span class="sig-paren">(</span><em>expected=True</em>, <em>filepath=None</em>, <em>chset=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_compare_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to compare the current character set in the scene with the given characterSet file.
If filepath isn’t given then we check for the existance of a ‘_character.chset’ file in the
same directory as the current Maya scene (assuming it’s a rig file / build directory)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> – compare against the given filepath</li>
<li><strong>chset</strong> – compare against a specific chset, used generally if there are more than 1 chSet in the scene</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_compare_fix">
<code class="descname">character_set_compare_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_compare_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : attempt to remake the character set</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_reconnect_test">
<code class="descname">character_set_reconnect_test</code><span class="sig-paren">(</span><em>mrig=None</em>, <em>refnode=None</em>, <em>filepath=None</em>, <em>clean_edits=True</em>, <em>match_stored=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_reconnect_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to see if the chSet has been removed from an mrig which this animation
file was using to connect all the data. If the chSet has been removed it must
either be stored to file OR bound to the mRig.mNode via the chset_bkg attr as
it’s this previous state of the character set that we use to reconnect the missing data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mrig</strong> – if given we test against this, else we find the first instance from getMetaRigs()</li>
<li><strong>refnode</strong> – specific refNode we want to process, else we use the refNode which contains the mRig node</li>
<li><strong>filepath</strong> – file to a chSet file saved by the character_set_arrays() test function</li>
<li><strong>clean_edits</strong> – run a remove failedEdits edits after the fix has run</li>
<li><strong>match_stored</strong> – extract and match the chSet index mapping via either a pre-stored chset file
or a chset_bkg attrs pickled onto the mRig, both must have been generated by character_set_arrays()</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.character_set_removal_fix">
<code class="descname">character_set_removal_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.character_set_removal_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>reconnect the failed chSet animcurve edits</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.nodeTypes_present_test">
<code class="descname">nodeTypes_present_test</code><span class="sig-paren">(</span><em>expected=0</em>, <em>nodeType='audio'</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.nodeTypes_present_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test for the presence of a specific nodeType in the scene</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expected</strong> – int=0, number of nodes of this nodeType in the scene
that’s acceptable</li>
<li><strong>nodeType</strong> – Maya nodeTyoe to scan for, default=audio</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.nodeTypes_present_fix">
<code class="descname">nodeTypes_present_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.nodeTypes_present_fix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.constraints_interpType_test">
<code class="descname">constraints_interpType_test</code><span class="sig-paren">(</span><em>expected=[2, 0]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.constraints_interpType_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test all orient and parent constraints and validate their interpType is set
as expected. This by default is set to a list [2,0], allowing noflip and shortest
to pass and all other interTypes to fail. The first var in the expected list is
then used as the default which fails will get set too</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> – [2, 0]  where 0=’noflip’, 1=’average’, 2=’shortest’, note that is this is given as
a list then the first arg is the default that failed interTypes will get set too.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.constraints_interpType_fix">
<code class="descname">constraints_interpType_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.constraints_interpType_fix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.displayLayers_test">
<code class="descname">displayLayers_test</code><span class="sig-paren">(</span><em>expected=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.displayLayers_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to see if displayLayers are present and if they should be or not</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> – [] list of layers expected to be present, any others would fail the test</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if a layer is connected to the layerManager in Id[0] slot index then it’s
treated as the defaultLayer and UNEDITABLE. This has happened a few times with assets in 2018</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.displayLayers_fix">
<code class="descname">displayLayers_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.displayLayers_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>remove all displayLayers that failed the test</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.animLayers_test">
<code class="descname">animLayers_test</code><span class="sig-paren">(</span><em>expected=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.animLayers_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to see if animLayers are present and if they should be or not</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> – [] list of layers expected to be present, any others would fail the test</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if a layer is connected to the layerManager in Id[0] slot index then it’s
treated as the defaultLayer and UNEDITABLE. This has happened a few times with assets in 2018</p>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.animLayers_fix">
<code class="descname">animLayers_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.animLayers_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>remove all animlayers that failed the test</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.references_found_test">
<code class="descname">references_found_test</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.references_found_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test for .ma / .mb references in the scene,
the fix method will import and remove those references</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.references_found_fix">
<code class="descname">references_found_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.references_found_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>remove all loaded references in the scene</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.reference_nodes_invalid_test">
<code class="descname">reference_nodes_invalid_test</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.reference_nodes_invalid_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test / return a list of reference nodes in the scene that have no
file pointer and are therefore currently invalid</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.reference_nodes_invalid_fix">
<code class="descname">reference_nodes_invalid_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.reference_nodes_invalid_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>remove any references that come back as invalid</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.namespaces_found_test">
<code class="descname">namespaces_found_test</code><span class="sig-paren">(</span><em>expected=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.namespaces_found_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test for the existence of namespaces in the scene</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> – [] list of namespaces that are valid</td>
</tr>
</tbody>
</table>
<p>TODO: this needs to be fixed and kept in order so that we can deal with
nested namespaces correctly</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.namespaces_found_fix">
<code class="descname">namespaces_found_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.namespaces_found_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>remove any references that come back as invalid. For this process we try and shift
the failed namespaces into the root “:” space before removing the then empty namespace</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.unknownPlugins_test">
<code class="descname">unknownPlugins_test</code><span class="sig-paren">(</span><em>expected=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.unknownPlugins_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to find unknown/dead plug-in nodes in the scene and remove them
These are nodes from other plug-ins</p>
<p>good reference: <a class="reference external" href="https://mayastation.typepad.com/maya-station/2015/04/how-to-prevent-maya-writing-a-requires-command-for-a-plug-in.html">https://mayastation.typepad.com/maya-station/2015/04/how-to-prevent-maya-writing-a-requires-command-for-a-plug-in.html</a></p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.unknownPlugins_fix">
<code class="descname">unknownPlugins_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.unknownPlugins_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : delete all old plugins</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.unknownScriptNode_test">
<code class="descname">unknownScriptNode_test</code><span class="sig-paren">(</span><em>expected=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.unknownScriptNode_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to find unknown scriptNodes nodes in the scene and remove them</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.unknownScriptNode_fix">
<code class="descname">unknownScriptNode_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.unknownScriptNode_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : delete all old plugins</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.unknownScriptNode_MALWARE_test">
<code class="descname">unknownScriptNode_MALWARE_test</code><span class="sig-paren">(</span><em>expected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.unknownScriptNode_MALWARE_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to find a Specific MALWARE by searching for know entries in:</p>
<ul class="simple">
<li>scriptNodes</li>
<li>scriptJobs</li>
<li>userSetup text : both userSetup.mel and userSetup.py in maya/scripts and maya/20**/scripts</li>
<li>files generated by Malware known to be suspicious</li>
</ul>
<p>Tests for:</p>
<div class="line-block">
<div class="line">Malware : May 2020 : “fuck_All_U” : the one we found which triggered the initial Autodesk scare <a class="reference external" href="https://gist.github.com/OriginalAdric/acbe902c89064e8300f2bc475a953e05">https://gist.github.com/OriginalAdric/acbe902c89064e8300f2bc475a953e05</a></div>
<div class="line">Malware : Sept 2020 : “breed_gene”, “vaccine_gene” : reported on TA : <a class="reference external" href="https://tech-artists.org/t/another-maya-malware-in-the-wild/12970">https://tech-artists.org/t/another-maya-malware-in-the-wild/12970</a></div>
</div>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.unknownScriptNode_MALWARE_fix">
<code class="descname">unknownScriptNode_MALWARE_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.unknownScriptNode_MALWARE_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : delete the Malware found</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.turtle_nodes_present_test">
<code class="descname">turtle_nodes_present_test</code><span class="sig-paren">(</span><em>expected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.turtle_nodes_present_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test for the presence of BLOODY Turtle Nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.turtle_nodes_present_fix">
<code class="descname">turtle_nodes_present_fix</code><span class="sig-paren">(</span><em>HealthObject</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.turtle_nodes_present_fix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.audio_nodes_get">
<code class="descname">audio_nodes_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.audio_nodes_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.audio_nodes_delete">
<code class="descname">audio_nodes_delete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.audio_nodes_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.shader_nodes_get">
<code class="descname">shader_nodes_get</code><span class="sig-paren">(</span><em>used=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.shader_nodes_get" title="Permalink to this definition">¶</a></dt>
<dd><p>return all shaders in the scene</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.ngskin_nodes_get">
<code class="descname">ngskin_nodes_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.ngskin_nodes_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.ngskin_nodes_delete">
<code class="descname">ngskin_nodes_delete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.ngskin_nodes_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.ngskin_node_test">
<code class="descname">ngskin_node_test</code><span class="sig-paren">(</span><em>expected=True</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.ngskin_node_test" title="Permalink to this definition">¶</a></dt>
<dd><p>test to find ngSkin nodes in the scene and remove them</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.ngskin_node_fix">
<code class="descname">ngskin_node_fix</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.ngskin_node_fix" title="Permalink to this definition">¶</a></dt>
<dd><p>fix method : delete all ngskin nodes</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.turtle_nodes_get">
<code class="descname">turtle_nodes_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.turtle_nodes_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Turtle nodes in the scene</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.turtle_nodes_delete">
<code class="descname">turtle_nodes_delete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.turtle_nodes_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove Turtle nodes from the scene, note that from Maya 2017 we have a
specific call in the ilrUserInterface.mel for this that doens’t cause a
user prompt so we’re hooking to that</p>
</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.optimiser.hik_nodes_valid_get">
<code class="descname">hik_nodes_valid_get</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.optimiser.hik_nodes_valid_get" title="Permalink to this definition">¶</a></dt>
<dd><p>return any HIK nodes in the scene</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Red9_Pro_metadata_pro.html" class="btn btn-neutral float-left" title="Pro_Pack : metadata_pro" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Red9_Pro_project.html" class="btn btn-neutral float-right" title="Pro_Pack : project" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Red9 Consultancy Limited.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>